<?xml version="1.0" encoding="UTF-8"?>
<TestPlan xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="TestPlan.xsd">
    <InitDB user_count="30" simcard_count="30" simpool_count="2"/>
    <ConfigDB>
        <SimPool mac_addr="00:00:00:00:00:02"
                 new_mac_addr="a2:1b:c6:d8:a2:5e"
                 capacity="256"
                 sw_ver="V1.00"
                 hw_ver="V1.01"/>
        <SimCard iccid="9999900000000000001f"
                 imsi="123450000000001"/>
        <SimCard iccid="9999900000000000002f"
                 imsi="123450000000002"
                 sim_img="00010223"
                 isInSimpool="false"/>
        <SimCard imsi="123450000000003"
                 iccid="9999900000000000003f"
                 sim_img="00010203"
                 isActivate="true"
                 isDisabled="false"
                 bindUserId="test00010"/>
        <SimCard iccid="9999900000000000010f"
                 imsi="123450000000010"
                 new_imsi="101230000000001" />
        <SimCard iccid="9999900000000000009f"
                 imsi="123450000000009"
                 new_imsi="101230000000002"
                 sim_img=""
                 img_md5=""/>
        <SimCard iccid="9999900000000000008f"
                 imsi="123450000000008"
                 new_imsi="102230000000001"/>
        <SimCard iccid="9999900000000000007f"
                 imsi="123450000000007"
                 new_imsi="102230000000002"
                 sim_img="00010223"
                 isInSimpool="false"/>
        <SimCard iccid="9999900000000000006f"
                 imsi="123450000000006"
                 new_imsi="000000000001234"/>
        <SimCard iccid="9999900000000000005f"
                 imsi="123450000000005"
                 new_imsi="000000000001235"
                 sim_img=""
                 img_md5=""/>
        <SimCard iccid="9999900000000000004f"
                 imsi="123450000000004"
                 new_imsi="000000000001236"
                 isInSimpool="false"/>
        <User id="test00010"
              password="123456"
        />
        <User id="test00005"
              status="1" desc="disable user"/>
    </ConfigDB>
    <TestSet desc="SP登录">
        <TestGroup desc="SP登录">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
            </PreAction>
            <TestCase no="00001"   level="A" desc="正常登陆"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_login id="SP00001"  mac_hexstr="a2:1b:c6:d8:a2:5e" desc="sp00001登陆成功"/>
            </TestCase>
            <TestCase no="00002"   level="A" desc="Mac地址不存在时" status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_login id="SP00001"  mac_hexstr="A2:1B:c6:d8:A2:00"  expect_ret="1" desc="sp00001登陆失败" />
            </TestCase>
            <TestCase no="00003"   level="A" desc="卡池容量错误时"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_login id="SP00001" mac_hexstr="a2:1b:c6:d8:a2:5e" max_sim_count="9999" expect_ret="0"/>
            </TestCase>
            <TestCase no="00004"   level="A" desc="网卡地址错误时"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_login id="SP00001" mac_hexstr="A2:1B:c6:d8:A2:00" max_sim_count="256" expect_ret="1" />
            </TestCase>
            <TestCase no="00005"   level="A" desc="硬件版本错误时"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_login id="SP00001" mac_hexstr="a2:1b:c6:d8:a2:5e" max_sim_count="256" hw_ver="ABCD" expect_ret="0"/>
            </TestCase>
            <TestCase no="00006"   level="A" desc="软件版本错误时"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_login id="SP00001" mac_hexstr="a2:1b:c6:d8:a2:5e" max_sim_count="256" hw_ver="1.00" sw_ver="2590" expect_ret="0"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="SP上报sim卡信息">
        <TestGroup desc="上报sim卡信息">
            <PreAction desc="初始化（登陆SP00001）">
                <connsvr id="SP00001"/>
                <connsvr id="SP00002"/>
                <sp_login id="SP00001"  mac_hexstr="a2:1b:c6:d8:a2:5e"  expect_ret="0" desc="SP00001登陆成功"/>
                <sp_login id="SP00002"  mac_hexstr="00:00:00:00:00:01"  expect_ret="0" desc="SP00002登陆成功"/>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
            </PreAction>
            <TestCase no="00007"   level="A" desc="正常上报sim卡信息"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_siminfo id="SP00001" sim_count="256" expect_invalidSimNos='[2, 3, 6]'>
                    <sim_info pos = "1" imsi="123450000000001"/>
                    <sim_info pos = "5" imsi="102230000000002"/>
                    <sim_info pos = "2" imsi="460010000000002" iccid="9999911485115859093" img_md5="b4707842913ff648fd7d26d7309e6a35"
                              sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos = "3" imsi="460010000000003" iccid="9999911485115859094" img_md5="b4707842913ff648fd7d26d7309e6a35"
                              sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos = "6" imsi="460010000000004" iccid="9999911485115859095" img_md5="b4707842913ff648fd7d26d7309e6a35"
                              sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                </sp_siminfo>
                <!--以下验证上报后 SIM卡是否可用-->
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46001,2,80" desc="验证上报的正常SIM卡是否可用"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>

                <mt_requim cells="10223,3,80;46001,2,80" expect_ret="ERR_OK" desc="验证上报的正常SIM卡是否可用"/>
                <mt_requim cells="10223,3,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="验证换卡但无可用SIM卡时（上报的SIM卡信息不全）"/>
            </TestCase>
            <TestCase no="00008"   level="A" desc="同一个IMSI信息重复上报时" status="未解决" tester="liqingxia" developer="lifenglong" >
                <sp_siminfo id="SP00001" sim_count="256">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000001"/>
                </sp_siminfo>
                <sp_siminfo id="SP00002" sim_count="256">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000001"/>
                </sp_siminfo>
                <!--以下验证上报后 SIM卡是否可用-->
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46001,2,80" expect_ret="ERR_OK" desc="同一张SIM卡多次上报时，可正常分卡"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="同一张SIM卡多次上报时，只可分配给一个用户"/>
            </TestCase>

            <TestCase no="00009"   level="A" desc="SIM卡总数与实际不符合"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_siminfo sim_count="5" id="SP00001" expect_invalidSimNos="[1]">
                    <sim_info pos="1" imsi="460010000000001" iccid="9999911485101585993" img_md5="b4707842913ff648fd7d26d7309e6a35"
                              sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos="2" imsi="123450000000001"/>
                </sp_siminfo>
            </TestCase>
        </TestGroup>
    </TestSet   >
    <TestSet desc="SP更新imsi卡信息">
        <TestGroup desc="更新imsi卡信息">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
                <sp_login id="SP00001" mac_hexstr="00:00:00:00:00:01" expect_ret="0" desc="SP00001登陆成功"/>
                <sp_siminfo id="SP00001" sim_count="5" expect_invalidSimNos="[4, 5, 6]" desc="上传imsi信息">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="102230000000002"/>
                    <sim_info pos="4" imsi="460010000000002" iccid="9999911485101585993" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos="5" imsi="460010000000003" iccid="9999911485101585994" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos="6" imsi="460010000000004" iccid="9999911485101585995" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                </sp_siminfo>

                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <!--             测试引擎   需更新后验证        -->
            <TestCase no="00010"   level="A" desc="正确更新imsi信息" status="未解决" tester="liqingxia" developer="lifenglong" >
                <!--以下验证上报后 SIM卡是否可用-->
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46001,2,80" desc="分卡成功"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="10223,3,80;46001,2,80" expect_ret="ERR_OK" desc="分卡成功"/>


                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="46001,1,80;46001,2,80" expect_ret="BIND_NO_SIM" desc="验证不在DB的SIM卡是否可用"/>
                <mt_requim cells="10223,3,80;46001,2,80" expect_ret="BIND_NO_SIM" desc="绑定卡不可用，PLMN下无可用卡时"/>
                <mt_logout/>
                <mt_revuim id="MT00002"/>
                <mt_logout/>

                <sp_siminfo_update id="SP00001" sim_count="8" expect_invalidSimNos='[6, 7, 8]' desc="正确更新imsi信息" >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000002"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000002" status="Normal"/>
                    <sim_info pos="6" imsi="460010000000002" iccid="9999911485101585996" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos="7" imsi="460010000000003" iccid="9999911485101585997" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos="8" imsi="460010000000004" iccid="9999911485101585998" sim_img="1323" img_md5="b4707842913ff648fd7d26d7309e6a35" status="Normal" />
                </sp_siminfo_update>

                <!--以下验证更新上报后 SIM卡是否可用-->
                <!--<mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>-->
                <!--<mt_requim cells="12345,3,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="验证更新IMSI信息是否成功"/>-->
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00001正常登录"/>
                <!--<mt_requim cells="46001,1,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="验证不在DB的SIM卡是否可用"/>-->

                <mt_requim cells="10223,3,80;46001,2,80" expect_ret="ERR_OK" desc="验证更新IMSI信息是否成功"/>
                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="10123,3,80;12345,2,80" expect_ret="ERR_OK" desc="验证更新IMSI信息是否成功"/>
            </TestCase>

            <TestCase no="00011"   level="A" desc="SIM卡总数与实际不符合"   status="未解决" tester="liqingxia" developer="lifenglong"  >
                <sp_siminfo_update sim_count="10" id="SP00001" expect_invalidSimNos='[5]'>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="5" imsi="460010000000002" iccid="9999911485101585996" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                </sp_siminfo_update>
            </TestCase>

        </TestGroup>

    </TestSet>
    <TestSet desc="SP上传心跳">
        <TestGroup desc="SP登录并上传SIM卡信息后上传心跳">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
                <connsvr id="SP00002"/>
                <sp_login id="SP00001" mac_hexstr="00:00:00:00:00:01" expect_ret="0" desc="SP00001登陆成功"/>
                <sp_login id="SP00002" mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0" desc="SP00002登陆成功"/>

                <sp_siminfo id="SP00001" sim_count="6" expect_invalidSimNos="[4, 5, 6]" desc="上传imsi信息">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="102230000000002"/>
                    <sim_info pos="4" imsi="460010000000002" iccid="9999911485101585993" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos="5" imsi="460010000000003" iccid="9999911485101585994" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                    <sim_info pos="6" imsi="460010000000004" iccid="9999911485101585995" img_md5="b4707842913ff648fd7d26d7309e6a35" sim_img="61c74c800ebaee56a0be0d3e80ea7f28" status="Normal"/>
                </sp_siminfo>
                <sp_siminfo id="SP00002" sim_count="2" desc="上传imsi信息">
                    <sim_info pos="1" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="101230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <TestCase no="00012"   level="A" desc="SP登录并上传SIM卡信息后正常上传心跳"   status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_heartbeat id="SP00001" desc="SP00001上传心跳成功"/>
                <sp_heartbeat id="SP00002" desc="SP00002上传心跳成功"/>
            </TestCase>
            <TestCase no="00013"   level="A" desc="SP更新SIM卡信息后正常上传心跳"   status="未解决" tester="liqingxia" developer="lifenglong" >
                <sp_heartbeat id="SP00001" desc="SP00001上传心跳成功"/>
                <sp_heartbeat id="SP00002" desc="SP00002上传心跳成功"/>
                <sp_siminfo_update id="SP00001">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="102230000000001"/>
                </sp_siminfo_update>
                <sp_siminfo_update id="SP00002">
                    <sim_info pos="1" imsi="123450000000002"/>
                    <sim_info pos="4" imsi="101230000000002" sim_img="00010111"/>
                </sp_siminfo_update>
                <sp_heartbeat id="SP00001" desc="SP00001上传心跳成功"/>
                <sp_heartbeat id="SP00002" desc="SP00002上传心跳成功"/>
            </TestCase>
            <TestCase no="00014"   level="B" desc="SP异常断开后，上传心跳"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sp_heartbeat id="SP00001" desc="SP00001正常上传心跳"/>
                <sp_heartbeat id="SP00002" desc="SP00002正常上传心跳"/>
                <sleep time="10"/>
                <sp_heartbeat id="SP00001" desc="SP00001正常上传心跳"/>
                <sp_heartbeat id="SP00002" desc="SP00002正常上传心跳"/>
                <sleep time="10"/>

                <disconn id="SP00001" desc="SP00001断开连接"/>
                <connsvr id="SP00001"/>
                <sp_heartbeat id="SP00001" desc="SP00001断开连接后上传心跳"/>
                <sp_heartbeat id="SP00002" desc="SP00002正常上传心跳"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="MT登录(Login)" >
        <TestGroup desc="MT登录（消息体错误时）">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo/>
                <connsvr id="MT0001"/>
            </PreAction>
            <TestCase no="00015"   level="A" desc="E1)设备ID为空时" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" dev_id="" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="设备ID为空登录成功"/>
            </TestCase>
            <TestCase no="00016"   level="A" desc="E2)设备ID超长时" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" user_id="test00001" password="123456"
                          dev_id="3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036"
                          expect_ret="ERR_OK" desc="设备ID超长登录成功"/>
            </TestCase>
            <TestCase no="00017"   level="A" desc="E3)协议版本有误" status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT0001" dev_id="MT00001" user_id="test00001" password="123456" proto_ver="2345345" expect_ret="ERR_PROTO_NOT_COMPATIABLE" desc="协议版本有误登录失败"/>
            </TestCase>
            <TestCase no="00018"   level="A" desc="E4)协议版本为空" status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT0001" dev_id="MT00001" user_id="test00001" password="123456" proto_ver="0" expect_ret="ERR_PROTO_NOT_COMPATIABLE" desc="协议版本为空登录失败"/>
            </TestCase>
            <TestCase no="00019"   level="A" desc="E5)错误码版本有误" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" dev_id="MT00001" user_id="test00001" password="123456" codes_ver="5.41" expect_ret="ERR_OK" desc="错误码版本有误登录成功"/>
            </TestCase>
            <TestCase no="00020"   level="A" desc="E6)错误码版本超长" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" dev_id="MT00001" user_id="test00001" password="123456"
                          codes_ver="3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036"
                          expect_ret="ERR_OK" desc="错误码版本超长登录成功"/>
            </TestCase>
            <TestCase no="00021"   level="A" desc="E7)错误码版本为空" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" dev_id="MT00001" user_id="test00001" password="123456" codes_ver="" expect_ret="ERR_OK" desc="错误码版本为空登录成功"/>
            </TestCase>
            <TestCase no="00022"   level="A" desc="E8)用户名不存在（超长字符）" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001"  dev_id="MT00001"
                          user_id="3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036"
                          password="123456" expect_ret="USER_NOT_EXIST"/>
            </TestCase>
            <TestCase no="00023"   level="A" desc="E9)用户名不存在（为空）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" dev_id="MT00001" user_id="" password="123456"  expect_ret="USER_NOT_EXIST"/>
            </TestCase>
            <TestCase no="00024"   level="A" desc="E10)密码错误（超长字符）" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" dev_id="MT00001" user_id="test00001"
                          password="3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036"
                          expect_ret="USER_WRONG_PASSWORD"/>
            </TestCase>
            <TestCase no="00025"   level="A" desc="E11)密码错误（为空）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" dev_id="MT00001" user_id="test00001" password="" expect_ret="USER_WRONG_PASSWORD"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT登录" >
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00005"/>
            </PreAction>
            <TestCase no="00026"   level="A" desc="E1)用户名不存在"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="none-exist" password="123456"  expect_ret="USER_NOT_EXIST"/>
            </TestCase>
            <TestCase no="00027"   level="A" desc="E2)用户名不存在（大小写错误）"   status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00001" dev_id="MT00001" user_id="TEST00001" password="123456" expect_ret="USER_NOT_EXIST"/>
            </TestCase>
            <TestCase no="00028"   level="A" desc="E3)密码错误"   status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="xxxxxx" expect_ret="USER_WRONG_PASSWORD"/>
            </TestCase>
            <TestCase no="00029"   level="A" desc="E4)密码错误（输入其他用户名的密码）"   status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="abc1234" expect_ret="USER_WRONG_PASSWORD"/>
            </TestCase>
            <TestCase no="00030"   level="A" desc="E5)用户已禁用"  status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00005" dev_id="MT00005" user_id="test00005" password="123456" expect_ret="USER_DISABLED"/>
            </TestCase>
            <TestCase no="00031"   level="A" desc="OK)正常登录"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456"/>
            </TestCase>
            <TestCase no="00032"   level="A" desc="OK)已登录后异地登录失败"  status="未实现" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端#00001登录"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00001" password="123456" expect_ret="ULR_USER_RELOGIN_OTHER" desc="终端#00002使用相同账户登录" />
            </TestCase>
            <TestCase no="00033"   level="A" desc="OK)已登录未分卡时，发送正确的Login"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456"/>
            </TestCase>
            <TestCase no="00034"   level="A" desc="OK)已登录已分卡时，发送正确的Login"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456"/>
                <mt_requim cells="12345,3,80;46001,3,80" imsi="000000000012345" id="MT00001"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456"/>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证终端为已登录未分卡状态"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="MT请求分卡(ReqUim)">
        <TestGroup desc="MT请求分卡，协议内容错误时">
            <PreAction desc="初始化(终端上线)，MT登录">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="000000000001234"/>
                </sp_siminfo>

                <connsvr id="MT00001"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00010正常登录"/>
            </PreAction>
            <TestCase no="00035"   level="A" desc="E1)plmn错误（plmn不存在）" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="46020,3,80;99984,1,80;55444,5,80;45454,2,80;44418,4,80" expect_ret="PLMN_NO_SIM" desc="plmn不存在分卡失败"/>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证终端分卡是否失败"/>
                <mt_logout/>
            </TestCase>
            <TestCase no="00036"   level="A" desc="E2)首次分卡存在IMSI时" status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_requim cells="12345,1,80;12345,1,80" imsi="123450000000001" expect_ret="PLMN_NO_SIM" desc="首次分卡存在IMSI时"/>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证终端分卡是否失败"/>
            </TestCase>
            <!--TODO 测试引擎对cells有限制，无法测试为空或超长时，且超长时解析为str类型，直接解析失败无法传输-->
            <TestCase no="00037"   level="A" desc="E3)plmn错误（格式）" status="未解决" tester="liqingxia" developer="lifenglong" >
                <mt_requim cells="999998856565,3,80;234131231233,3,80" expect_ret="RUR_USER_NO_BALANCE" desc="plmn格式错误分卡失败"/>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证终端分卡是否失败"/>
            </TestCase>
            <TestCase no="00038"   level="A" desc="OK)imsi号是否补0满15位" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="00000,3,80;46001,2,80" desc="分卡成功"/>
                <mt_requim cells="00000,3,80;46001,2,80" imsi="000000000001234" expect_ret="PLMN_NO_SIM" desc="换卡失败"/>
                <mt_logout/>
            </TestCase>
            <TestCase no="00039"   level="A" desc="E1)首次分卡存在IMSI时（IMSI不存在DB时）" status="未解决" tester="liqingxia" developer="lifenglong" >
                <mt_requim cells="12345,0,80;12345,0,80" imsi="000000000000000" expect_ret="ERR_OK" desc="首次分卡存在IMSI时(IMSI不存在DB时)"/>
                <!--<mt_simimg expect_ret="ERR_OK" desc="验证终端分卡是否失败"/>-->
                <mt_logout/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT请求分卡，MT未登录时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <!--TODO 新版双链路未登陆不能发消息-->
            <TestCase no="00040"   level="A" desc="E1)未登录时请求分卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;46002,4,80" id="MT00001" expect_ret="WAIT_RESULT_TIMEOUT" desc="未登录时直接请求分卡"/>
                <mt_simimg expect_ret="WAIT_RESULT_TIMEOUT" desc="验证终端分卡是否失败"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT请求分卡，MT已登录时">
            <PreAction desc="初始化(终端上线)，MT登录">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="000000000001234"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>

                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00003"/>
                <connsvr id="MT00004"/>
                <connsvr id="MT00006"/>
                <connsvr id="MT00010"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
            </PreAction>
            <TestCase no="00041"   level="A" desc="E1)无可用卡时请求分卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="11234,3,80;46001,2,80" id="MT00001" expect_ret="PLMN_NO_SIM" desc="终端#00001分卡失败"/>
            </TestCase>
            <TestCase no="00042"   level="A" desc="OK)正常登录并请求分卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,1,80;10123,2,80"/>
                <mt_simimg desc="验证分卡是否成功"/>
            </TestCase>
            <TestCase no="00043"   level="A" desc="0K)仅绑定卡在空闲时，绑卡用户与非绑卡用户申请分卡"  status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim id="MT00002" cells="12345,3,80;46002,4,80" expect_ret="ERR_OK" desc="终端#00002分卡成功"/>

                <mt_requim id="MT00001" cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00001分卡失败，等待分卡"/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim id="MT00010" cells="12345,3,80;46002,4,80" desc="终端#00010分卡成功"/>
                <mt_revuim id="MT00010" desc="终端#00010请求还卡"/>

                <mt_requim cells="12345,3,80;46002,4,80" id="MT00001" expect_ret="PLMN_NO_SIM" desc="终端#00001分卡失败，等待分卡"/>
            </TestCase>
            <TestCase no="00044"   level="A" desc="0K)绑定用户的绑定卡不可用时，绑卡用户与非绑卡用户申请分卡" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <disconn id="SP00001"/>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="000000000001234"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim id="MT00010" cells="12345,3,80;46002,4,80" desc="分卡成功，绑定卡不可用时，分配其他SIM卡"/>

                <mt_requim id="MT00001" cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="无可用SIM卡"/>

                <mt_revuim id="MT00010" desc="终端#00010请求还卡"/>

                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端#00001等待分卡成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="验证分卡是否成功"/>
                <mt_simimg id="MT00010" expect_ret="USER_NOT_REQUIM" desc="验证分卡是否成功"/>
            </TestCase>
            <!--测试引擎 分卡时imsi自动传过去了-->
            <TestCase no="00045"   level="A" desc="OK)已分卡后，再次发送ReUim请求（IMEI为空/不为空" status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" imsi="XXX" desc="分卡成功"/>
                <mt_requim cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="换卡失败，无可用SIM卡"/>
                <mt_requim cells="12345,3,80;10123,4,80" expect_ret="ERR_OK" desc="换卡成功"/>
                <mt_simimg desc="验证换卡后是否可以正常下载镜像"/>
            </TestCase>
            <!--测试引擎 分卡时imsi自动传过去了-->
            <TestCase no="00046"   level="A" desc="OK)已分卡还卡后，再次请求分卡" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_revuim desc="还卡成功"/>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证还卡是否成功"/>
                <mt_requim cells="12345,3,80;46002,4,80" imsi="xxx" desc="分卡成功"/>
                <mt_simimg desc="验证分卡是否成功"/>
            </TestCase>
            <TestCase no="00047"   level="A" desc="OK)请求不同PLMN分卡"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_requim cells="12345,4,80;460001,1,80" desc="终端#00001分卡成功(12345)"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,2,80;10123,2,80"  desc="终端#00002分卡成功(10123)"/>

                <mt_login id="MT00003" dev_id="MT00003" user_id="test00003" password="123456" desc="终端#00003正常登录"/>
                <mt_requim cells="12345,2,80;10123,4,80;10223,1,80" desc="终端#00003分卡成功(10223)"/>

                <mt_login id="MT00004" dev_id="MT00004" user_id="test00004" password="123456" desc="终端#00004正常登录"/>
                <mt_requim cells="12345,5,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="无可用SIM卡"/>

                <mt_revuim id="MT00003" desc="还卡成功(10223)"/>
                <mt_revuim id="MT00002" desc="还卡成功(10123)"/>

                <mt_login id="MT00006" dev_id="MT00006" user_id="test00006" password="123456" desc="终端#00006正常登录"/>
                <mt_requim id="MT00006" cells="10123,2,80;10223,4,80" desc="终端#00006分卡成功"/>
                <mt_requim id="MT00001" cells="12345,4,80;10123,1,80;10223,4,80"  imsi="123450000000001" desc="终端#00001换卡成功"/>
                <assert_req id="MT00004" cmd_id="TERMASSIGNUIM" desc="终端#00004等待分卡成功(12345)"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_requim id="MT00002" cells="12345,2,80;10123,1,80;10223,2,80" expect_ret="PLMN_NO_SIM" desc="验证无可以卡时是否可以分配到SIM卡"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="MT下载镜像(SimImg)">
        <TestGroup desc="MT下载镜像，MT未登录">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00048"   level="A" desc="E1)未登录时，请求下载镜像"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simimg expect_ret="WAIT_RESULT_TIMEOUT" desc="未登录时下载镜像失败"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT下载镜像，MT已登录">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="101230000000001"/>
                    <sim_info pos="4" imsi="101230000000002" sim_img="00010111"/>
                    <sim_info pos="5" imsi="101230000000003" iccid="4600112312312312312" sim_img="0002"/>
                    <sim_info pos="6" imsi="102230000000001"/>
                    <sim_info pos="7" imsi="000000000001234"/>
                </sp_siminfo>

                <connsvr id="MT00001"/>
                <connsvr id="MT00010"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
            </PreAction>
            <TestCase no="00049"   level="A" desc="E2)已登录未分卡时，请求下载镜像"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="未分卡时，下载镜像失败"/>
            </TestCase>
            <TestCase no="00050"   level="A" desc="E3)已登录已还卡时，请求下载镜像"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_revuim desc="还卡成功"/>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证已还卡后下载镜像是否成功"/>
            </TestCase>
            <TestCase no="00051"   level="A" desc="OK)正常登录分卡，并请求下载镜像"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="46001,3,80;10223,4,80" desc="分卡成功"/>
                <mt_simimg desc="验证已分卡后下载镜像是否成功"/>
            </TestCase>
            <TestCase no="00052"   level="A" desc="OK)正常登录分卡（绑卡用户与未绑卡用户），并请求下载镜像"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="46001,3,80;10123,4,80" id="MT00001" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>

                <mt_login id="MT00010" dev_id="MT00001" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="12345,3,80;12345,4,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="MT请求鉴权(SimPool)">
        <TestGroup desc="MT请求鉴权，消息体错误时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>

                <connsvr id="MT00001"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim id="MT00001" cells="12345,3,80;460001,2,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
            </PreAction>
            <!--TODO apdu时，不检测参数长度，测试无意义-->
            <TestCase no="00053"   level="A" desc="apdu请求包超长的时候"  status="暂不修改" tester="liqingxia" developer="lifenglong">
                <mt_simpool id="MT00001"
                            apdu_hexstr="3a1bcdab1ccb6e60d2d98da8433553a1bcda1cb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938"
                            expect_ret="ERR_OK" desc="apdu请求包超长错误"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT请求鉴权，未登录时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00054"   level="A" desc="E1)未登录时，请求鉴权"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false" desc="未登录时，鉴权失败" />
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT请求鉴权，已登录时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000002" status="Normal" desc="启用SIM卡#0002"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
            </PreAction>

            <TestCase no="00055"   level="A" desc="E2)已登录未分卡时，请求鉴权"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false" desc="未分卡时鉴权失败" />
            </TestCase>

            <TestCase no="00056"   level="A" desc="E3)已登录已还卡时，请求鉴权"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;10223,4,80" desc="分卡成功"/>
                <mt_revuim desc="还卡成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false" desc="已还卡时鉴权失败"/>
            </TestCase>

            <TestCase no="00057"   level="A" desc="OK)正常请求鉴权"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12323,3,80;12345,4,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="鉴权成功"/>
            </TestCase>

            <TestCase no="00058"   level="A" desc="OK)绑卡用户与未绑卡用户，正常请求鉴权"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;46002,4,80"  desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录（绑卡用户）"/>
                <mt_requim cells="12345,3,80;46002,4,80"  desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>

                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" />
                <mt_simpool id="MT00010"  apdu_hexstr="524354530027003501e900008800812210eb6af574c2dc8bdbb091ea4efd7889d410ca53aa9258508234d423f14c2beae6b4b8ed"
                            expect_response="524354530027003501e900008800812210eb6af574c2dc8bdbb091ea4efd7889d410ca53aa9258508234d423f14c2beae6b4b8ed"/>
            </TestCase>

            <TestCase no="00059"   level="A" desc="OK)换卡后成功后再次将SIM卡分给其他用户，并且请求鉴权"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"/>
                <mt_requim cells="12345,3,80;10223,4,80"  imsi="123450000000001"  desc="换卡成功"/>
                <mt_simimg desc="下载镜像成功"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="10223,3,80;12345,4,80" desc="分卡成功"/>
                <mt_simimg/>

                <mt_simpool id="MT00002" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00002请求鉴权"/>
                <mt_simpool id="MT00001" apdu_hexstr="524354530027003501e900008800812210eb6af574c2dc8bdbb091ea4efd7889d410ca53aa9258508234d423f14c2beae6b4b8ed"
                            expect_response="524354530027003501e900008800812210eb6af574c2dc8bdbb091ea4efd7889d410ca53aa9258508234d423f14c2beae6b4b8ed"
                            desc="终端#00001请求鉴权"/>

            </TestCase>
        </TestGroup>
        <TestGroup desc="MT请求鉴权，SimPool未启动时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>

                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo sim_count="4" >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="123450000000002"/>
                    <sim_info pos="5" imsi="123450000000003"/>
                    <sim_info pos="55" imsi="102230000000001"/>
                </sp_siminfo>

            </PreAction>
            <TestCase no="00060"   level="A" desc="OK)SIMPOOL未启动时，请求鉴权；SIMPOOL连接，重新申请鉴权"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="10223,4,80;46001,3,80" desc="终端#00002请求分卡成功"/>
                <mt_simimg desc="鉴权下载成功"/>

                <disconn id="SP00001" desc="SP断开连接"/>
                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false" desc="SP无响应，鉴权失败"/>
                <mt_simpool id="MT00010" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false" desc="SP无响应，鉴权失败"/>
                <mt_simpool id="MT00010" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false" desc="SP无响应，鉴权失败"/>
                <mt_simpool id="MT00010" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false" desc="SP无响应，鉴权失败"/>
                <mt_simpool id="MT00002" apdu_hexstr="524354530027003501e900008800812210eb6af574c2dc8bdbb091ea4efd7889d410ca53aa9258508234d423f14c2beae6b4b8ed"
                            waitRsp="false" desc="SP无响应，鉴权失败"/>

                <connsvr id="SP00001"/>
                <sp_login  mac_hexstr="a2:1b:c6:d8:a2:5e" desc="SP卡池#00001连线并登录"/>
                <sp_siminfo sim_count="2" >
                    <sim_info pos="1"  imsi="123450000000002"/>
                    <sim_info pos="2" imsi="102230000000001"/>
                    <sim_info pos="5" imsi="123450000000003"/>
                </sp_siminfo>

                <!-- 服务器不会要求终端还卡
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端#00001收到Server的消息，SP不可用，强制还卡"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受强制还卡"/>
                -->
                <mt_simpool id="MT00010" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00010请求鉴权"/>
                <mt_simpool id="MT00002" apdu_hexstr="524354530027003501e900008800812210eb6af574c2dc8bdbb091ea4efd7889d410ca53aa9258508234d423f14c2beae6b4b8ed"
                            expect_response="524354530027003501e900008800812210eb6af574c2dc8bdbb091ea4efd7889d410ca53aa9258508234d423f14c2beae6b4b8ed"
                            desc="终端#00002请求鉴权"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="MT请求还卡(RevUim)">
        <TestGroup desc="MT请求还卡，未登录时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00061"   level="A" desc="E1)未登录时，请求还卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_revuim desc="未登录时，请求还卡" expect_ret="WAIT_RESULT_TIMEOUT"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT请求还卡，已登录时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00010"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
            </PreAction>

            <TestCase no="00062"   level="A" desc="E1)已登录未分卡时，请求还卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_revuim desc="未分卡时，请求还卡"/>
                <mt_requim cells="12345,1,80;46001,4,80" desc="验证是否可以正常分卡"/>
            </TestCase>

            <TestCase no="00063"   level="A" desc="OK)已登录已分卡时正常还卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_revuim desc="已登录已分卡时，请求还卡"/>
                <mt_login id="MT00010" dev_id="MT00010" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,2,80;46001,3,80" desc="验证终端#00001还卡是否成功"/>
            </TestCase>

            <TestCase no="00064"   level="A" desc="OK)已登录已分卡时（绑卡用户）正常还卡"  status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <sp_siminfo_update  desc="停用SIM卡#0001">
                    <sim_info pos="1" imsi="123450000000001" status="NotInSp"/>
                </sp_siminfo_update>
                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80"/>
                <mt_revuim desc="绑卡用户还卡成功"/>
                <mt_requim id="MT00001" cells="12345,2,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="验证绑定卡还卡后，普通用户是否可以申请到绑定卡"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="MT请求退录(Logout)">
        <TestGroup desc="MT请求退录，MT未登录时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00065"   level="A" desc="E1)未登录时请求退录"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_logout expect_ret="WAIT_RESULT_TIMEOUT"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT请求退录，MT已登录时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
            </PreAction>
            <TestCase no="00066"   level="A" desc="E2)登录后请求退录，再次请求登录"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_logout desc="退录成功"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="验证退录后是否可以重新登录"/>
            </TestCase>

            <TestCase no="00067"   level="A" desc="OK)已分卡用户直接断开连接时，sessionid的有效期"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <!--获取sessionid-->
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功" />
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="鉴权成功"/>
                <disconn/>

                <connsvr/>
                <!--sessionid未过期时-->
                <mt_loginbyid desc="sessionid未过期，登录成功"/>

                <disconn/>
                <sleep time="305000"/>
                <connsvr/>
                <!--sessionid已过期时-->
                <mt_loginbyid expect_ret="USER_INVALID_SESSION" desc="sessionid已过期，登录失败"/>

            </TestCase>

            <TestCase no="00068"   level="A" desc="OK)已分卡用户还卡后退录，sessionid已过期后SIM卡的回收；"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="鉴权成功"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="分卡失败"/>

                <mt_revuim id="MT00001" desc="还卡成功"/>
                <mt_logout desc="退录成功" />

                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="等待分卡成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" />

                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="登录失败，sessionid已失效"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="MT直接登录并分卡（LoginById）">
        <TestGroup desc="MT直接登录并分卡，已登录、未登录时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>

                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00069"   level="A" desc="E3)直接请求错误的sessionid直接登录并分卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_loginbyid sessionid="B912344968f9B912344968f9" expect_ret="USER_INVALID_SESSION" desc="sessionid错误"/>
            </TestCase>
            <TestCase no="00070"   level="A" desc="E4)已登录时，直接请求登录并分卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_loginbyid sessionid="B912344968f9B912344968f9" expect_ret="USER_INVALID_SESSION" desc="sessionid错误"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT直接登录并分卡，已登录已分卡时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo expect_ret="0">
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>

                <mt_login  id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功" />
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="鉴权成功" />
            </PreAction>
            <TestCase no="00071"   level="A" desc="已登录已分卡时，断开后直接请求登录并分卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <disconn id="MT00001" desc="终端#00001掉线"/>
                <connsvr id="MT00001" desc="终端#00001连接成功"/>
                <mt_loginbyid desc="直接登录并请求分卡成功"/>
            </TestCase>
            <!---->
            <TestCase no="00072"   level="A" desc="已登录已分卡时，断开后等待（sessionid过期）请求登录并分卡"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true" >
                <disconn id="MT00001" desc="终端#00001掉线"/>
                <sleep time="305000"/>
                <connsvr id="MT00001" desc="终端#00001连接成功"/>
                <mt_loginbyid expect_ret="USER_INVALID_SESSION" desc="sessionid已过期"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" imsi="xxx" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="鉴权成功"/>
            </TestCase>
            <TestCase no="00073"   level="A" desc="已登录已分卡时，断开后等待请求登录并分卡（断开后SIM卡暂时无法分配给其他用户）" status="未实现" tester="liqingxia" developer="lifenglong" >
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46001,2,80" expect_ret="PLMN_NO_SIM"/>
                <disconn id="MT00001" desc="终端#00001掉线"/>

                <mt_requim id="MT00002" cells="12345,1,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="验证已分卡的终端掉线后sim卡是否立即可分配给其他用户"/>
                <connsvr id="MT00001" desc="终端#00001连接成功"/>
                <mt_loginbyid  desc="重新连接登录成功"/>
                <mt_revuim desc="还卡成功"/>

                <assert_req  id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="验证还卡后sessionId是否有效"/>
            </TestCase>
            <TestCase no="00074"   level="A" desc="已登录已分卡时，直接退录" status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="分卡失败，进入等待分卡"/>

                <mt_logout id="MT00001"/>
                <assert_req  id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002收到主动分卡请求"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>

                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="直接登录并分卡失败"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="分卡失败"/>
                <mt_requim cells="12345,3,80;10223,3,80" desc="分卡成功"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="MT发送心跳（HeartBeat）">
        <TestGroup desc="MT发送心跳，MT未登录时" >
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00075"   level="A" desc="未登录时，发送心跳"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_heartbeat expect_ret="WAIT_RESULT_TIMEOUT"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT发送心跳，MT已登录时" skip="true">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="102230000000001"/>
                </sp_siminfo>

                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
            </PreAction>
            <TestCase no="00076"   level="A" desc="已登录时，发送心跳"  status="未解决" tester="liqingxia" developer="lifenglong" >
                <mt_heartbeat/>
            </TestCase>
            <TestCase no="00077"   level="A" desc="已登录时已分卡时，发送心跳"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;46002,4,80"  desc="分卡成功"/>
                <mt_heartbeat/>
            </TestCase>
            <TestCase no="00078"   level="A" desc="OK)多个终端已登录已分卡时，发送心跳"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_heartbeat/>
                <mt_simimg/>
                <mt_heartbeat/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" />
                <mt_heartbeat/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="12345,3,80;10223,4,80" desc="分卡成功"/>
                <mt_heartbeat/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="9988655e2f" expect_response="9988655e2f" />
                <mt_heartbeat/>
                <mt_heartbeat id="MT00001"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_heartbeat/>
                <mt_requim cells="12345,3,80;10223,4,80"  desc="分卡成功"/>
                <mt_heartbeat id="MT00001"/>
                <mt_heartbeat id="MT00010"/>
                <mt_heartbeat id="MT00002"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB绑定SIM卡(user_binduim)">
        <TestGroup desc="WEB绑卡(user_binduim)">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="101230000000001"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <TestCase no="00079"   level="A" desc="OK)未绑卡未登录时，SIM卡未使用时，绑定SIM卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_binduim_sub -DuserId='test00001' -Dimsi='123450000000001' -DbindUserExpireTime='2018-11-11 11:11:11'" expect_retcode="ERR_OK"
                      desc="终端#00001绑定SIM卡123450000000001"/>
                <!--判断绑定SIM卡是否成功-->
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46059,1,80" expect_ret="PLMN_NO_SIM"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46059,1,80"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="终端#00001鉴权成功"/>
            </TestCase>
            <TestCase no="00080"   level="A" desc="OK)未绑卡已登录时，SIM卡未使用时，绑定SIM卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <exec cmd=">testHttp.py user_binduim_sub -DuserId='test00001' -Dimsi='123450000000001' -DbindUserExpireTime='2018-11-11 11:11:11'"
                      expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡123450000000001"/>
                <!--判断绑定SIM卡是否成功-->
                <mt_requim id="MT00002" cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM"/>
                <mt_requim id="MT00001" cells="12345,3,80;46002,4,80"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00001鉴权成功"/>
            </TestCase>
            <TestCase no="00081"   level="A" desc="OK)未绑卡已登录已分卡，绑定正在使用的卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" id="MT00001" desc="终端#00001分卡成功"/>
                <exec cmd=">testHttp.py user_binduim_sub -DuserId='test00001' -Dimsi='123450000000001' -DbindUserExpireTime='2018-11-11 11:11:11'"
                      expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡123450000000001"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00001鉴权成功"/>

                <!--验证绑卡是否成功-->
                <mt_revuim desc="终端#00001还卡成功"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim id="MT00002" cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="验证是否可以分配到其他用户刚绑定的SIM卡"/>

                <mt_requim id="MT00001" cells="12345,3,80;46002,4,80" imsi="xxx" desc="终端#00001分卡成功"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00001鉴权成功"/>
            </TestCase>
            <TestCase no="00082"   level="A" desc="OK)已绑卡已登录已分卡，将正在使用的SIM卡解绑并分给其他用户，解绑后再使用LoginById直接登录并分卡"  status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py user_binduim_sub -DuserId='test00001' -Dimsi='123450000000001' -DbindUserExpireTime='2018-11-11 11:11:11'"
                      expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡123450000000001"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" />

                <exec cmd=">testHttp.py user_unbinduim_sub -Dimsi='123450000000001'"
                      expect_retcode="ERR_OK" desc="终端#00001解除绑定SIM卡123450000000001"/>
                <exec cmd=">testHttp.py user_binduim_sub -DuserId='test00002' -Dimsi='123450000000001' -DbindUserExpireTime='2018-11-11 11:11:11'"
                      expect_retcode="ERR_OK" desc="终端#00002绑定SIM卡123450000000001"/>
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="服务器强制终端#00001还卡">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH"/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受还卡"/>
                <config>
                    <field name="bAutoRsp" value="true"/>
                </config>
                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="验证已将SIM卡绑定给其他用户后，SESSIONID是否可用"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" />

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00002正常分卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00002鉴权成功"/>
            </TestCase>
            <TestCase no="00083"   level="A" desc="OK)未绑卡已登录已分卡，绑定其他用户正在使用的SIM卡"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00001分卡成功"/>

                <sp_siminfo_update  desc="新增一张可用的SIM卡#0002">
                    <sim_info pos="1" imsi="123450000000002" status="Normal"/>
                </sp_siminfo_update>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00002分卡成功"/>
                <exec cmd='>testHttp.py user_binduim_sub -DuserId="test00001" -Dimsi="123450000000002" -DbindUserExpireTime="2018-11-11 11:11:11"'
                      expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡123450000000002"/>

                <assert_req id="MT00002" cmd_id="TERMREVUIM" desc="终端#00002收到强制还卡的消息">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH"/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受还卡"/>

                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="终端#00002强制同意"/>
                <mt_requim cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00002分卡失败，进入等待分卡"/>

                <mt_revuim id="MT00001" desc="终端#0001还卡成功"/>
                <assert_req  id="MT0002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功">
                    <assert_expr expr='TODO: imsi="123450000000001"'/>
                </assert_req>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>

                <mt_requim cells="46001,3,80;46002,4,80" id="MT00001" desc="验证绑定的SIM卡是否可用"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00002鉴权成功"/>
            </TestCase>
            <TestCase no="00084"   level="A" desc="一个用户绑定多张卡"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_binduim_sub -DuserId='test00001' -Dimsi='123450000000001' -DbindUserExpireTime='2018-11-11 11:11:11'"
                      expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡123450000000001"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim id="MT00002" cells="12345,4,80;12345,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00002请求分卡失败，进入等待分卡"/>
                <mt_requim id="MT00001" cells="12345,4,80;12345,4,80" desc="终端#00001请求分卡成功"/>

                <exec cmd=">testHttp.py user_binduim_sub -DuserId='test00001' -Dimsi='101230000000001' -DbindUserExpireTime='2018-11-11 11:11:11'"
                      expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡101230000000001"/>
                <mt_requim id="MT00002" cells="12345,4,80;10123,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00002请求分卡失败"/>
                <mt_requim id="MT00001" cells="12345,4,80;10123,4,80" imsi="123450000000001" desc="终端#00001请求换卡成功"/>
            </TestCase>
            <TestCase no="00085"   level="A" desc="绑卡用户已登录已分卡时，将绑定卡分配给其他用户" status="未实现" tester="liqingxia" developer="lifenglong" skip="true" >
                <exec cmd='>testHttp.py user_binduim_sub -DuserId="test00001" -Dimsi="123450000000001" -DbindUserExpireTime="2018-11-11 11:11:11"'
                      expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡123450000000001"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim id="MT00002" cells="12345,4,80;12345,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00002请求分卡失败,进入等待分卡状态"/>
                <mt_requim id="MT00001" cells="12345,4,80;12345,4,80" desc="终端#00001请求分卡成功"/>

                <exec cmd='>testHttp.py user_binduim_sub -DuserId="test00002" -Dimsi="123450000000001" -DbindUserExpireTime="2018-11-11 11:11:11"'
                      expect_retcode="ERR_OK" desc="终端#00002绑定SIM卡123450000000001"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端#00001收到强制还卡的请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH "/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="同意还卡"/>

                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <mt_revuim desc="终端#00002还卡成功"/>

                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="验证强制还卡后SESSIONID是否过期"/>
                <mt_requim id="MT00001" cells="12345,4,80;12345,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00001请求分卡失败"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB解绑SIM卡(user_unbinduim)">
        <TestGroup desc="">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <TestCase no="00086"   level="A" desc="OK)已绑卡未登录时，SIM卡未使用时，解绑SIM卡"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <sp_siminfo_update expect_ret="0" desc="停用SIM卡#0001">
                    <sim_info pos="1" imsi="123450000000001" status="NotInSp"/>
                </sp_siminfo_update>

                <exec cmd='>testHttp.py  user_unbinduim_sub -Dimsi="123450000000003"' expect_retcode="ERR_OK"
                      desc="终端#00010解绑SIM卡123450000000003"/>

                <!--判断解绑SIM卡是否成功-->
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim id="MT00002" cells="12345,3,80;46559,1,80"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="终端#00001鉴权成功"/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim id="MT00010" cells="12345,3,80;46559,1,80" expect_ret="PLMN_NO_SIM" desc="进入等待分卡状态"/>

                <mt_revuim id="MT00002" desc="还卡成功"/>
                <assert_req id="MT00010" cmd_id="TERMASSIGNUIM" desc="验证绑卡用户的绑定卡解绑后，是否还可以申请到该SIM卡"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="终端#00001鉴权成功"/>
            </TestCase>
            <TestCase no="00087"   level="A" desc="OK)已绑卡已登录时，SIM卡未使用时，解绑SIM卡" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <disconn id="SP00001"/>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="3" imsi="123450000000003"/>
                </sp_siminfo>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <exec cmd='>testHttp.py user_unbinduim_sub -Dimsi="123450000000003"' expect_retcode="ERR_OK"
                      desc="终端#00010解绑SIM卡123450000000003"/>
                <!--判断解绑SIM卡是否成功-->
                <mt_requim id="MT00002" cells="12345,3,80;46002,4,80"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00002鉴权成功"/>

                <mt_requim id="MT00010" cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM"/>

                <mt_revuim id="MT00002" desc="还卡成功"/>
                <assert_req id="MT00010" cmd_id="TERMASSIGNUIM" desc="验证绑卡用户的绑定卡解绑后，是否还可以申请到该SIM卡"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00001鉴权成功"/>
            </TestCase>
            <TestCase no="00088"   level="A" desc="OK)已绑卡已登录已分卡，解除绑定正在使用的卡" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd='>testHttp.py user_binduim_sub -Dusername="test00001" -Dimsi="123450000000001" -DbindUserExpireTime="2018-11-11 11:11:11"' expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡123450000000001"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim id="MT00002" cells="12345,2,80;46559,1,80"  expect_ret="PLMN_NO_SIM" desc="终端#00002分卡失败"/>
                <mt_requim id="MT00001" cells="12345,1,80;46559,1,80" desc="终端#00001分卡成功"/>

                <exec cmd='>testHttp.py" user_unbinduim_sub -Dimsi="123450000000001"' expect_retcode="ERR_OK" desc="终端#00001解除绑定SIM卡123450000000001"/>
                <!--验证解除绑卡是否成功-->
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00001鉴权成功"/>
                <mt_revuim id="MT00001" desc="终端#00001还卡成功"/>
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="123450000000001"/>
                </assert_req>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_requim id="MT00001" cells="12345,1,80;46559,1,80" expect_ret="PLMN_NO_SIM" desc="终端#00001分卡失败"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB主动换卡(user_assignuim)">
        <TestGroup desc="WEB主动换卡(user_assignuim)">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <TestCase no="00089"   level="A" desc="E1）MT未登录时，WEB发送主动换卡到服务器"  status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_assignuim_sub -DuserId='test00001' -Dimsi='123450000000001'"
                      expect_retcode="USER_NOT_LOGIN" desc="将SIM卡123450000000001主动分卡给终端"/>
            </TestCase>

            <TestCase no="00090"   level="A" desc="OK)MT已登录已分卡时，WEB发送主动分卡到服务器，MT接受分卡"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="10223,3,80;46002,4,80" expect_ret="ERR_OK" desc="终端#00001请求分卡成功"/>
                <exec cmd=">testHttp.py user_assignuim_sub -DuserId='test00001' -Dimsi='123450000000001'" expect_retcode="ERR_OK" desc="将SIM卡123450000000001主动分给终端#00001"/>
                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端#00001收到主动分卡的请求"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="终端#00001鉴权成功"/>
                <!--验证分卡是否成功-->
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00002请求分卡失败，进入等待分卡状态"/>
            </TestCase>

            <TestCase no="00091"   level="A" desc="OK)MT已登录时已分卡已鉴权时，WEB发送主动分卡到服务器，MT接受分卡" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00001分卡成功"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="终端#00001鉴权成功"/>
                <exec cmd=">testHttp.py user_assignuim_sub -DuserId='test00001' -Dimsi='101230000000001'"
                      expect_retcode="ERR_OK" desc="将SIM卡101230000000001主动分卡给终端#00001"/>
                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端#00001收到主动分卡的请求"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da131111"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da131111"
                            desc="终端#00001鉴权成功"/>

                <!--验证主动分卡是否成功-->
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="10123,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00002请求分卡失败，进入等待分卡状态"/>
                <mt_requim cells="12345,3,80;10123,4,80" desc="终端#00002请求分卡成功"/>
            </TestCase>

            <TestCase no="00092"   level="A" desc="OK)MT已登录时已分卡（绑卡用户），WEB发送主动分卡到服务器，MT接受分卡" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00010分卡成功"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00001鉴权成功"/>

                <exec cmd=">testHttp.py user_assignuim_sub -DuserId='test00010' -Dimsi='123450000000001'"
                      expect_retcode="ERR_OK" desc="将SIM卡101230000000001主动分卡给用户#00010"/>
                <assert_req id="MT00010" cmd_id="TERMASSIGNUIM" desc="终端#00010收到主动分卡的请求"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="终端回复OK" />
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b111"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b111" desc="终端#00001鉴权成功"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,4,80;46001,3,80" expect_ret="PLMN_NO_SIM" desc="终端#00002分卡失败"/>

                <mt_revuim id="MT00010" desc="还卡成功"/>
                <mt_requim id="MT00002" cells="12345,4,80;46001,3,80" expect_ret="ERR_OK" desc="终端#00002分卡成功"/>
            </TestCase>

            <TestCase no="00093"   level="A" desc="OK)终端分卡成功时，WEB发送主动分卡到服务器，将其他用户正在使用的SIM卡分配给终端" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00001分卡成功" />
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="10123,3,80;46002,4,80" expect_ret="ERR_OK" desc="终端#00002成功"/>
                <exec cmd=">testHttp.py user_assignuim_sub -DuserId='test00002' -Dimsi='123450000000001'" expect_retcode="ERR_OK" desc="将SIM卡123450000000001主动分卡给终端#00002"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端收到强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH"/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="同意还卡"/>
                <assert_req  id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002收到服务器下发的主动分卡请求"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="终端#00001鉴权成功"/>
                <mt_requim cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00001分卡失败，进入等待分卡"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB禁用终端用户(user_disable)">
        <TestGroup desc="WEB禁用用户(user_disable)">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000002"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <TestCase no="00094"   level="A" desc="OK)MT未登录时，WEB发送禁用用户到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py  user_disable_sub -DuserId='test00001' -Ddisable='true'" expect_retcode="ERR_OK" desc="禁用账户test00001"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="USER_DISABLED" desc="#00001已禁用，登录失败"/>
            </TestCase>

            <TestCase no="00095"   level="A" desc="OK)MT已登录时，WEB发送禁用用户到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec cmd=">testHttp.py  user_disable_sub -DuserId='test00001' -Ddisable='true'" expect_retcode="ERR_OK" desc="禁用账户test00001"/>
                <assert_req cmd_id="TERMLOGOUT"  desc="终端#00001强制退录">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="ULR_USER_DISABLED"/>
                </assert_req>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="同意强制退录"/>
                <connsvr id="MT00001"/>
                <mt_login id="MT00001" dev_id="MT00002" user_id="test00001" password="123456" expect_ret="USER_DISABLED" desc="#00001已禁用，登录失败"/>

            </TestCase>

            <TestCase no="00096"   level="A" desc="OK)MT已登录已分卡时，WEB发送禁用用户到服务器" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00001分卡成功"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" />

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00002分卡失败，等待分卡"/>

                <exec cmd=">testHttp.py  user_disable_sub -DuserId='test00001' -Ddisable=True" expect_retcode="ERR_OK" desc="禁用账户test00001"/>

                <!--验证禁用用户后SIM卡是否及时回收，禁用用户是否可登录-->
                <assert_req cmd_id="TERMLOGOUT"  desc="终端#00001强制退录">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_DISABLED"/>
                </assert_req>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="同意强制退录"/>
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" />

                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="验证已禁用用户使用LOGINBYID直接登录是否成功"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="USER_DISABLED" desc="验证已禁用用户使用LOGIN0登录是否成功"/>
            </TestCase>

            <TestCase no="00097"   level="A" desc="OK)MT已登录已分卡时（绑卡用户），WEB发送禁用用户到服务器，SIM卡资源的回收与禁用用户不可再次登录" status="未实现" tester="liqingxia" developer="lifenglong" skip="true" >
                <sp_siminfo_update  desc="禁用SIM卡#0001">
                    <sim_info pos="1" imsi="123450000000001" status="NotInSp"/>
                </sp_siminfo_update>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00002分卡失败，进入等待分卡"/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="终端#00010分卡成功"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>

                <exec cmd='>testHttp.py user_disable_sub -DuserId="test00010"' expect_retcode="ERR_OK" desc="禁用账户test00010"/>
                <assert_req cmd_id="TERMLOGOUT"  desc="终端#00010强制退录">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_DISABLED"/>
                </assert_req>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="同意强制退录"/>

                <!--验证禁用用户后SIM卡是否及时回收，禁用用户是否可登录-->
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <mt_loginbyid id="MT00010" expect_ret="USER_INVALID_SESSION" desc="绑卡用户验证已禁用用户使用LOGINBYID直接登录是否成功"/>
                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" expect_ret="USER_DISABLED" desc="绑卡用户验证已禁用用户使用LOGIN0登录是否成功"/>
            </TestCase>

        </TestGroup>
    </TestSet>
    <TestSet desc="WEB强制终端还卡(user_revuim)">
        <TestGroup desc="WEB强制还卡(user_revuim)">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT0001"/>
                <connsvr id="MT0002"/>
                <connsvr id="MT0010"/>
            </PreAction>

            <TestCase no="00098"   level="A" desc="E1)userId为空时，WEB发送强制还卡到服务器" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_revuim_sub -DuserId=''" expect_retcode="ERR_ILLEGAL_PARAM" desc="userId为空时"/>
            </TestCase>

            <TestCase no="00099"   level="A" desc="E1)userId超长时，WEB发送强制还卡到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_revuim_sub -DuserId='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036'"
                      expect_retcode="USER_NOT_EXIST" desc="userId超长时"/>
            </TestCase>

            <TestCase no="00100"   level="A" desc="E1)MT未登录时"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_revuim_sub -DuserId='test00001'" expect_retcode="USER_NOT_LOGIN" desc="强制终端#00001还卡"/>
                <mt_login id="MT0001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端登录成功" />
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
            </TestCase>

            <TestCase no="00101"   level="A" desc="E2)MT已登录未分卡时，WEB发送强制还卡到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT0001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端登录成功" />
                <exec cmd=">testHttp.py user_revuim_sub -DuserId='test00001'" expect_retcode="USER_NOT_REQUIM" desc="强制终端#00001还卡"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" />
            </TestCase>

            <TestCase no="00102"   level="A" desc="OK)MT已登录已分卡时，WEB发送强制还卡（用户账号）到服务器" status="未实现" tester="liqingxia" developer="lifenglong" skip="true" >
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_login id="MT00002" dev_id="MT0002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46559,1,80" id="MT00001" desc="分卡成功"/>
                <mt_requim cells="12345,3,80;46559,1,80" id="MT00002" expect_ret="PLMN_NO_SIM" desc="分卡失败，进入等待分卡"/>

                <exec cmd='>testHttp.py user_revuim_sub -DuserId="test00001"' expect_retcode="ERR_OK" desc="强制终端#00001还卡"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端#00001收到强制还卡的信息">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH"/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受还卡"/>
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="验证终端#00001强制还卡是否成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="验证强制还卡后sessionId是否会过期"/>
            </TestCase>

            <TestCase no="00103"   level="A" desc="OK)MT已登录已分卡时，WEB发送强制还卡（IMSI）到服务器"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true" >
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_login id="MT00002" dev_id="MT0002" user_id="test00001" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" id="MT00001" desc="分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"/>

                <mt_requim id="MT00002" cells="12345,3,80;46002,4,80"  expect_ret="PLMN_NO_SIM" desc="分卡失败，进入等待分卡"/>
                <exec cmd='>testHttp.py imsi_revuim_sub -Dimsi="123450000000001"' expect_retcode="ERR_OK" desc="强制终端#00001还卡"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端#00001收到强制还卡的信息">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH"/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受还卡"/>
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="验证终端#00001强制还卡是否成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_loginbyid id="MT00001"  expect_ret="USER_INVALID_SESSION" desc="验证强制还卡后sessionId是否会过期"/>
            </TestCase>

            <TestCase no="00104"   level="A" desc="OK)MT已登录已分卡时（绑卡用户），WEB发送强制还卡到服务器"  status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <sp_siminfo_update>
                    <sim_info pos="1" imsi="123450000000001" status="NotInSp" desc="停用SIM卡#0001"/>
                </sp_siminfo_update>
                <mt_login id="MT0001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_login id="MT0010" dev_id="MT0010" user_id="test00010" password="123456" desc="终端#00010(绑卡用户)正常登录"/>
                <mt_requim cells="12345,1,80;46559,1,80" id="MT0001" expect_ret="PLMN_NO_SIM" desc="分卡失败，进入等待分卡"/>
                <mt_requim cells="12345,1,80;46559,1,80" id="MT0010" desc="分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"/>

                <exec cmd=">testHttp.py user_revuim_sub -DuserId='test00010'" expect_retcode="ERR_OK" desc="强制终端#00010还卡"/>
                <assert_req id="MT0010" cmd_id="TERMREVUIM" >
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH" desc="终端#00010收到强制还卡的信息"/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受还卡"/>
                <mt_loginbyid expect_ret="USER_INVALID_SESSION" desc="验证强制还卡是否成功"/>
                <mt_requim id="MT0001" cells="12345,1,80;46559,1,80" expect_ret="PLMN_NO_SIM" desc="验证绑定卡强制还卡后是否会分配给其他用户"/>
                <mt_login id="MT0010" dev_id="MT0010" user_id="test00010" password="123456" desc="终端#00010(绑卡用户)正常登录"/>
                <mt_requim cells="12345,3,80;46559,1,80" id="MT0010" imsi="xxx" desc="验证绑定卡强制还卡后是否可重新申请分卡"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB强制终端退录（user_logout）">
        <TestGroup desc="WEB强制退录（user_logout）">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <TestCase no="00105"   level="A" desc="userId为空时，WEB发送强制退录到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_logout_sub -DuserId=''" expect_retcode="ERR_ILLEGAL_PARAM" desc="userId为空时"/>
            </TestCase>

            <TestCase no="00106"   level="A" desc="userId超长时，WEB发送强制退录到服务器" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_logout_sub -DuserId='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036'"
                      expect_retcode="USER_NOT_EXIST" desc="userId超长时"/>
            </TestCase>

            <TestCase no="00107"   level="A" desc="MT未登录时，WEB发送强制退录到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_logout_sub -DuserId='test00001'" expect_retcode="USER_NOT_LOGIN" desc="强制终端#00001退录"/>
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端登录成功"/>
            </TestCase>

            <TestCase no="00108"   level="A" desc="MT已登录时，WEB发送强制退录到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端登录成功"/>
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec wait_ms="2000" cmd=">testHttp.py user_logout_sub -DuserId='test00001'" expect_retcode="ERR_OK" desc="强制终端#00001退录"/>
                <assert_req cmd_id="TERMLOGOUT" desc="终端#00001收到强制退录的消息">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="ULR_USER_KICKED"/>
                </assert_req>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="接受强制退录"/>
                <connsvr id="MT00001"/>
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端登录成功"/>
            </TestCase>

            <TestCase no="00109"   level="A" desc="MT已登录已分卡时，WEB发送强制退录到服务器"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001登录成功"/>
                <mt_login id="MT00002" dev_id="MT0002" user_id="test00002" password="123456" desc="终端#00002登录成功"/>
                <mt_requim id="MT00001" cells="10123,3,80;46559,1,80" desc="终端#00001分卡成功"/>
                <mt_requim id="MT00002" cells="10123,3,80;46559,1,80"  expect_ret="PLMN_NO_SIM" desc="终端#00002分卡失败，进入等待分卡"/>

                <exec cmd='>testHttp.py  user_logout_sub -DuserId="test00001"' expect_retcode="ERR_OK" desc="强制终端#00001退录"/>
                <assert_req id="MT00001" cmd_id="TERMLOGOUT" desc="终端#00001收到强制退录的消息">
                    <assert_expr expr='TODO: codes="ULR_USER_KICKED"'/>
                </assert_req>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="接受强制退录"/>
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="验证终端强制退录是否成功"/>
            </TestCase>

            <TestCase no="00110"   level="A" desc="MT已登录已分卡时（绑卡用户），WEB发送强制退录到服务器" status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <sp_siminfo_update  desc="停用SIM卡#00001">
                    <sim_info pos="1" imsi="123450000000001" status="NotInSp"/>
                </sp_siminfo_update>
                <mt_login id="MT00010" dev_id="MT0010" user_id="test00010" password="123456" desc="终端#00010登录成功"/>
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001登录成功"/>
                <mt_requim id="MT00010" cells="12345,3,80;46559,1,80" desc="终端#00010分卡成功"/>
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <mt_requim id="MT00001" cells="12345,3,80;46559,1,80" expect_ret="PLMN_NO_SIM" desc="终端#00001分卡失败，进入等待分卡"/>

                <!--以下验证终端被强制退录后，sessionid额有效期（5分钟内）-->
                <exec wait_ms="2000" cmd=">testHttp.py user_logout_sub -DuserId='test00010'" expect_retcode="ERR_OK" desc="强制终端#00010退录"/>
                <assert_req id="MT00010" cmd_id="TERMLOGOUT" desc="终端#00010收到强制退录的消息">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="ULR_USER_KICKED"/>
                </assert_req>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="接受强制退录"/>
                <mt_requim id="MT00001" cells="12345,3,80;46002,4,80"  expect_ret="PLMN_NO_SIM" desc="验证绑定用户被强制退录后，绑定卡是否会分配给其他用户"/>
                <connsvr id="MT00010"/>
                <config>
                    <field name="bAutoRsp" value="true"/>
                </config>
                <mt_loginbyid id="MT00010" expect_ret="ERR_OK"  desc="终端#00010直接登录并请求分卡成功"/>

                <!--以下验证终端被强制退录后，sessionid额有效期（5分钟后）-->
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec wait_ms="2000" cmd=">testHttp.py user_logout_sub -DuserId='test00010'" expect_retcode="ERR_OK" desc="强制终端#00010退录"/>
                <assert_req id="MT00010" cmd_id="TERMLOGOUT" desc="终端#00010收到强制退录的消息">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="ULR_USER_KICKED"/>
                </assert_req>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="接受强制退录"/>
                <sleep time="305000"/>
                <config>
                    <field name="bAutoRsp" value="true"/>
                </config>
                <connsvr id="MT00010"/>
                <mt_loginbyid id="MT00010" expect_ret="USER_INVALID_SESSION"  desc="终端#00010直接登录并请求分卡失败"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB禁用SIM卡（sim_disable）">
        <TestGroup desc="WEB禁用SIM卡（sim_disable）">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <TestCase no="00111"   level="A" desc="imsi为空时，WEB发送禁用SIM到服务器" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sim_disable_sub -Dimsi='' -Ddisable='true' -Diccid=''
                -DdisableTime='' -Dwhodisable='' -DdisableReason=''" expect_retcode="ERR_ILLEGAL_PARAM" desc="发送imsi为空的禁用SIM卡请求到服务器"/>
            </TestCase>

            <TestCase no="00112"   level="A" desc="imsi超长时，WEB发送禁用SIM到服务器" status="未解决" tester="liqingxia" developer="lifenglong">
                <!--todo 返回值后续需要修改-->
                <exec cmd=">testHttp.py sim_disable_sub -Dimsi='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036' -Ddisable='true'
                        -Diccid='' -DdisableTime='2018-6-25 17:50:30' -Dwhodisable='' -DdisableReason=''"
                      expect_retcode="USER_NOT_EXIST" desc="发送imsi超长的禁用SIM卡请求到服务器"/>
            </TestCase>

            <TestCase no="00113"   level="A" desc="MT已登录未分卡时，WEB发送禁用SIM到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <exec cmd=">testHttp.py sim_disable_sub -Dimsi='123450000000001' -Ddisable='true'
                        -Diccid='' -DdisableTime='2018-6-25 17:50:30' -Dwhodisable='' -DdisableReason=''" expect_retcode="ERR_OK" desc="禁用SIM卡#00001"/>
                <mt_requim cells="12345,3,80;46559,1,80"  expect_ret="PLMN_NO_SIM" desc="验证SIM卡是否已成功禁用"/>
                <mt_login id="MT00010" dev_id="MT0010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="12345,3,80;10123,2,80"  desc="终端#00010请求分卡成功"/>
            </TestCase>

            <TestCase no="00114"   level="A" desc="MT已登录未分卡时(绑卡用户)，WEB发送禁用SIM到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00010" dev_id="MT0010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <exec cmd=">testHttp.py sim_disable_sub -Dimsi='123450000000003' -Ddisable='true'
                        -Diccid='' -DdisableTime='2018-6-25 17:50:30' -Dwhodisable='' -DdisableReason=''" expect_retcode="ERR_OK" desc="禁用SIM卡#00003"/>
                <mt_requim cells="12345,1,80;46001,8,80" desc="终端#00010请求分卡成功"/>
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,1,80;46001,8,80" expect_ret="ERR_OK" desc="验证禁用SIM卡是否成功"/>
            </TestCase>

            <TestCase no="00115"   level="A" desc="MT已登录已分卡时，WEB发送禁用SIM到服务器" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <connsvr id="MT00002"/>
                <mt_login id="MT00002" dev_id="MT0002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim id="MT00001"  cells="12345,3,80;46002,4,80" desc="终端#00001分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"/>
                <mt_requim id="MT00002" cells="12345,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00002分卡失败，进入等待分卡"/>

                <exec cmd=">testHttp.py sim_disable_sub -Dimsi='123450000000001' -Ddisable='true'
                        -Diccid='' -DdisableTime='2018-6-25 17:50:30' -Dwhodisable='' -DdisableReason=''" expect_retcode="ERR_OK" desc="禁用SIM卡#00001"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端#00001收到服务器下发的强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_SIM_NOT_AVAILABLE"/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受还卡"/>

                <!--以下验证强制还卡后用户是否可以正常申请分卡等，已禁用的SIM卡是否不可再使用-->
                <sp_siminfo_update  desc="启用SIM卡#00003">
                    <sim_info pos="1" imsi="123450000000003" status="Normal"/>
                </sp_siminfo_update>
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="123450000000003"/>
                </assert_req>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="终端#00001直接登录并分卡失败"/>
                <mt_requim cells="46001,3,80;46002,4,80" id="MT00001" expect_ret="PLMN_NO_SIM" desc="终端#00001分卡失败"/>

                <mt_revuim id="MT00002" desc="终端#00002还卡成功"/>
                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端#00001等待分卡成功">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="123450000000003"/>
                </assert_req>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"/>
                <mt_logout id="MT00001"/>
                <mt_logout id="MT00002"/>
            </TestCase>

            <TestCase no="00116"   level="A" desc="MT已登录已分卡时(绑卡用户)，WEB发送禁用SIM到服务器"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <sp_siminfo_update  desc="停用SIM卡#00001">
                    <sim_info pos="1"  imsi="123450000000001" status="NotInSp"/>
                </sp_siminfo_update>
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_login id="MT00010" dev_id="MT0010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim id="MT00001" cells="46001,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00001分卡失败，进入等待分卡"/>
                <mt_requim id="MT00010" cells="46001,3,80;46002,4,80" desc="终端#00010分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"/>

                <exec cmd=">testHttp.py sim_disable_sub -Dimsi='123450000000010' -Ddisable='true'
                        -Diccid='' -DdisableTime='2018-6-25 17:50:30' -Dwhodisable='' -DdisableReason=''" expect_retcode="ERR_OK" desc="禁用SIM卡#00010"/>
                <assert_req id="MT00010" cmd_id="TERMREVUIM" desc="终端#00010收到服务器下发的强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_SIM_NOT_AVAILABLE"/>
                </assert_req>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="接受还卡"/>

                <!--以下验证强制还卡后用户是否可以正常申请分卡等，已禁用的SIM卡是否不可再使用-->
                <sp_siminfo_update desc="启用SIM卡#00001">
                    <sim_info pos="1"  imsi="123450000000001" status="Normal"/>
                </sp_siminfo_update>
                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端#00001等待分卡成功">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="123450000000001"/>
                </assert_req>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_loginbyid id="MT00010" expect_ret="USER_INVALID_SESSION" desc="终端#00010直接登录并分卡失败"/>
                <mt_requim id="MT00010" cells="46001,3,80;46002,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00010请求分卡失败，进入等待分卡"/>

                <mt_revuim id="MT00001" desc="终端#00001还卡成功"/>
                <assert_req id="MT00010" cmd_id="TERMASSIGNUIM" desc="终端#00010等待分卡成功">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="123450000000001"/>
                </assert_req>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b111"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b111"/>
                <mt_logout id="MT00010"/>
                <mt_logout id="MT00001"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB开启、关闭终端实时调试（user_traceon/user_traceoff）">
        <TestGroup desc="MT未登录时，WEB开启/关闭实时调试">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000002"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00117"   level="A" desc="MT未登录时，WEB发送开启终端实时调试到服务器（user_traceon）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='test00001' -Dlevel='DEBUG'" expect_retcode="USER_NOT_LOGIN" desc="开启用户test00001的实时调试"/>
            </TestCase>

            <TestCase no="00118"   level="A" desc="MT未登录时，WEB发送关闭终端实时调试到服务器（user_traceoff）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='test00001'" expect_retcode="USER_NOT_LOGIN" desc="关闭用户test00001的实时调试"/>
            </TestCase>

            <TestCase no="00119"   level="A" desc="MT未登录时，WEB发送开启并关闭终端实时调试到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='test00001' -Dlevel='DEBUG'" expect_retcode="USER_NOT_LOGIN" desc="开启用户test00001的实时调试"/>
                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='test00001'" expect_retcode="USER_NOT_LOGIN" desc="关闭用户test00001的实时调试"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT已登录时，消息体异常测试">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <connsvr id="MT00001"/>
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
            </PreAction>
            <TestCase no="00120"   level="A" desc="username与level为空时，WEB发送开启终端实时调试到服务器（user_traceon）" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='' -Dlevel=''" expect_retcode="ERR_ILLEGAL_PARAM" desc="username与level为空时，开启调试"/>
            </TestCase>
            <TestCase no="00121"   level="A" desc="username与level错误时，WEB发送开启终端实时调试到服务器（user_traceon）" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='111111111111111' -Dlevel='xxxxxxxxxxxxx'" expect_retcode="ERR_ILLEGAL_PARAM" desc="username与level错误时，开启调试"/>
            </TestCase>
            <TestCase no="00122"   level="A" desc="UserId与Level超长时，WEB发送开启终端实时调试到服务器（user_traceon）" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036' -Dlevel='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036'"
                      expect_retcode="ERR_ILLEGAL_PARAM" desc="UserId与Level超长时，开启调试"/>
            </TestCase>
            <TestCase no="00123"   level="A" desc="username为空时，WEB发送关闭终端实时调试到服务器（user_traceoff）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_off_sub -DuserId=''"
                      expect_retcode="ERR_ILLEGAL_PARAM" desc="UserId为空时关闭调试"/>
            </TestCase>
            <TestCase no="00124"   level="A" desc="username错误时，WEB发送开启终端实时调试到服务器（user_traceoff）" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='1111111'"
                      expect_retcode="USER_NOT_EXIST" desc="UserId错误时关闭调试"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT已登录时，WEB开启/关闭实时调试">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001" />
                    <sim_info pos="2" imsi="101230000000001" />
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
            </PreAction>
            <TestCase no="00125"   level="A" desc="MT已登录时，WEB发送开启终端实时调试到服务器（user_traceon）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='test00001' -Dlevel='DEBUG'" expect_retcode="ERR_OK" desc="开启用户test00001的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受开启调试"/>
            </TestCase>

            <TestCase no="00126"   level="A" desc="MT已登录时，WEB发送关闭终端实时调试到服务器（user_traceoff）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='test00001'" expect_retcode="ERR_OK" desc="关闭用户test00001的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受关闭调试"/>
            </TestCase>

            <TestCase no="00127"   level="A" desc="MT已登录时，WEB发送开启、关闭终端实时调试到服务器"  status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='test00001' -Dlevel='DEBUG'" expect_retcode="ERR_OK" desc="开启用户test00001的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受开启调试"/>
                <!--验证开启后是否可正常分卡与鉴权等-->
                <mt_requim cells="12345,3,80;46002,4,80" desc="请求分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <mt_heartbeat/>

                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='test00001'" expect_retcode="ERR_OK" desc="关闭用户test00001的实时调试"/>
                <!--验证关闭时是否可正常分卡与鉴权等-->
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受关闭调试"/>
                <mt_requim cells="12345,3,80;10123,4,80" imsi="123450000000001" desc="换卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <mt_heartbeat/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT已登录等待分卡时，WEB开启/关闭实时调试">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <connsvr id="MT00001"/>
                <sp_siminfo_update>
                    <sim_info pos="1" imsi="123450000000001" status="NotInSp" desc="停用SIM卡12345"/>
                    <sim_info pos="2" imsi="101230000000001" status="NotInSp" desc="停用SIM卡10123"/>
                </sp_siminfo_update>

                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46559,1,80"  expect_ret="PLMN_NO_SIM" desc="请求分卡失败"/>
            </PreAction>
            <TestCase no="00128"   level="A" desc="MT已登录等待分卡时，WEB开启/关闭实时调试（user_traceon/user_traceoff）" status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='test00001' -Dlevel='DEBUG'" expect_retcode="ERR_OK" desc="开启用户test00001的实时调试"/>
                <sp_siminfo_update>
                    <sim_info pos="1" imsi="123450000000001" status="Normal" desc="启用SIM卡12345"/>
                </sp_siminfo_update>
                <assert_req cmd_id="TERMASSIGNUIM" desc="终端收到服务器下发的主动分卡请求"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <mt_requim cells="10123,2,80;46559,1,80" expect_ret="PLMN_NO_SIM" desc="请求分卡失败"/>

                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='test00001'" expect_retcode="ERR_OK" desc="关闭用户test00001的实时调试"/>
                <sp_siminfo_update>
                    <sim_info pos="1" imsi="101230000000001" status="Normal" desc="启用SIM卡10123"/>
                </sp_siminfo_update>
                <assert_req cmd_id="TERMASSIGNUIM" desc="终端收到服务器下发的主动分卡请求"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="接受分卡"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT已登录已分卡时，WEB开启/关闭实时调试">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="101230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80"  desc="请求分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
            </PreAction>
            <TestCase no="00129"   level="A" desc="MT已登录已分卡时，WEB发送开启终端实时调试到服务器（user_traceon）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='test00001' -Dlevel='DEBUG'" expect_retcode="ERR_OK" desc="开启用户test00001的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受开启调试"/>
            </TestCase>
            <TestCase no="00130"   level="A" desc="MT已登录已分卡时，WEB发送关闭终端实时调试到服务器（user_traceoff）"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='test00001'" expect_retcode="ERR_OK" desc="关闭用户test00001的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受关闭调试"/>
            </TestCase>
            <TestCase no="00131"   level="A" desc="MT已登录已分卡时，WEB发送开启、关闭终端实时调试到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='test00001' -Dlevel='DEBUG'" expect_retcode="ERR_OK" desc="开启用户test00001的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受开启调试"/>
                <!--验证开启时是否可正常分卡与鉴权等-->
                <mt_requim cells="10123,3,80;13245,4,80" imsi="123450000000001" desc="请求换卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>

                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='test00001'" expect_retcode="ERR_OK" desc="关闭用户test00001的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受关闭调试"/>
                <!--验证关闭时是否可正常分卡与鉴权等-->
                <mt_requim cells="12345,3,80;10123,4,80" imsi="101230000000001"  desc="请求换卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="MT已登录已分卡时(绑卡用户)，WEB开启/关闭实时调试">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="101230000000001"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                </sp_siminfo>
                <connsvr id="MT00010"/>
                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="请求分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
            </PreAction>
            <TestCase no="00132"   level="A" desc="MT已登录已分卡时（绑卡用户），WEB发送开启、关闭终端实时调试到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_trace_on_sub -DuserId='test00010' -Dlevel='DEBUG'" expect_retcode="ERR_OK" desc="开启用户test00010的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受开启调试"/>
                <!--验证开启时是否可正常分卡与鉴权等-->
                <mt_requim cells="12345,3,80;46002,4,80" desc="请求换卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>

                <exec cmd=">testHttp.py user_trace_off_sub -DuserId='test00010'" expect_retcode="ERR_OK" desc="关闭用户test00010的实时调试"/>
                <assert_req cmd_id="TERMTRACE" desc="终端收到服务器下发的TermTrace请求"/>
                <TermMtTrace_Rsp ret_code="ERR_OK" desc="接受关闭调试"/>
                <!--验证关闭时是否可正常分卡与鉴权等-->
                <mt_requim cells="10123,3,80;46002,4,80" desc="请求换卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB开启终端日志上传（user_logupload）" skip="true" status="未实现" >
        <TestGroup desc="初始化(终端上线)">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>

            <TestCase no="00133"   level="A" desc="MT未登录时，WEB发送开启终端日志上传到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_logupload_sub -Dusername='test00001' -DstartTime='2017-07-31' -DendTime='2017-08-1' -Dlevel='DEBUG' -DlogPath='datalogs' -DuploadMode='0' -DlogSizeLimit='0'"
                      expect_retcode="USER_NOT_LOGIN" desc="开启用户test00001日志上传"/>
            </TestCase>

            <TestCase no="00134"   level="A" desc="MT已登录时，WEB发送开启终端日志上传到服务器"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <exec cmd=">testHttp.py user_logupload_sub -Dusername='test00001' -DstartTime='2017-07-31' -DendTime='2017-08-1' -Dlevel='DEBUG' -DlogPath='datalogs' -DuploadMode='0' -DlogSizeLimit='0'"
                      expect_retcode="ERR_OK" desc="开启用户test00001日志上传"/>

                <!--验证开启日志上传后，进行其他操作是否正常-->
                <mt_requim cells="46001,3,80;46002,4,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <mt_heartbeat/>
            </TestCase>

            <TestCase no="00135"   level="A" desc="MT已登录已分卡时，WEB发送开启终端日志上传到服务器" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <exec cmd=">testHttp.py user_logupload_sub -Dusername='test00001' -DstartTime='2017-07-31' -DendTime='2017-08-1' -Dlevel='DEBUG' -DlogPath='datalogs' -DuploadMode='0' -DlogSizeLimit='0'"
                      expect_retcode="ERR_OK" desc="开启用户test00001日志上传"/>
                <mt_heartbeat/>

                <sp_siminfo_update>
                    <sim_info pos="1" imsi="123450000000003" status="Normal" desc="启用SIM卡#00003"/>
                </sp_siminfo_update>

                <!--验证开启日志上传后，进行其他操作是否正常-->
                <mt_heartbeat/>
                <mt_requim cells="13245,3,80;10123,4,80" imsi="123450000000001" desc="换卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <mt_heartbeat/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <mt_heartbeat/>

            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB禁用/解禁SP（simpool_disable）">
        <TestGroup desc="WEB禁用SP，参数错误时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00136"   level="C" desc="参数为空时"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_disable_sub -DmacAddress='' -Ddisable=''" expect_retcode="ERR_ILLEGAL_PARAM"/>
            </TestCase>
            <TestCase no="00137"   level="C" desc="参数错误时"  status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_disable_sub -DmacAddress='00:00:00:99:99:99' -Ddisable='000'" expect_retcode="USER_NOT_EXIST"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB禁用/解禁SP">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="00:00:00:00:00:01"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                </sp_siminfo>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="101230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00003"/>
                <connsvr id="MT00010"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <mt_requim cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="终端#00001分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1" expect_ret="ERR_OK"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" expect_ret="ERR_OK" desc="终端#00002登录成功"/>
                <mt_requim cells="10123,2,80;10123,4,80" expect_ret="ERR_OK" desc="终端#00002分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" expect_ret="ERR_OK"/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" expect_ret="ERR_OK" desc="终端#00010登录成功"/>
                <mt_requim cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="终端#00010分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2" expect_ret="ERR_OK"/>

            </PreAction>
            <TestCase no="00138"   level="A" desc="MT已登录已分卡时SP被禁用、解禁"  status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <!--以下禁用SP-->
                <exec cmd=">testHttp.py sp_disable_sub -DmacAddress='00:00:00:00:00:01' -Ddisable='True'" expect_retcode="ERR_OK"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端#00001收到强制还卡请求"/>
                <assert_req id="MT00010" cmd_id="TERMREVUIM" desc="终端#00010收到强制还卡请求"/>
                <assert_no_req id="MT00002"  cmd_id="TERMREVUIM" desc="终端#00002不会收到强制还卡请求"/>

                <!--以下解除禁用SP-->
                <exec cmd=">testHttp.py sp_disable_sub -DmacAddress='00:00:00:00:00:01' -Ddisable='False'" expect_retcode="ERR_OK"/>
                <sp_siminfo_update>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="101230000000002" sim_img="00101234"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                </sp_siminfo_update>

                <mt_requim id="MT00001" cells="10123,2,80;10123,4,80" expect_ret="ERR_OK" desc="终端#00001分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1" expect_ret="ERR_OK"/>

                <mt_requim id="MT00010" cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="终端#00010分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2" expect_ret="ERR_OK"/>
            </TestCase>

            <TestCase no="00139"   level="A" desc="MT请求鉴权时SP被禁用、解禁"  status="未实现" tester="liqingxia" developer="lifenglong" skip="true">
                <!--以下禁用SP-->
                <mt_login id="MT00003" dev_id="MT00003" user_id="test00003" password="123456" expect_ret="ERR_OK" desc="终端#00003登录成功"/>
                <mt_requim cells="12345,2,80;10123,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00003分卡失败"/>
                <sp_siminfo_update id="SP00001">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="123450000000002"/>
                </sp_siminfo_update>
                <assert_req cmd_id="TERMASSIGNUIM" desc="终端#00003等待分卡成功"/>
                <mt_simimg/>

                <!--以下测试请求鉴权时，SP被禁用后是否正常-->
                <config>
                    <field name="bWaitRsp" value="false"/>
                </config>
                <mt_simpool id="MT00003" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"/>
                <config>
                    <field name="bWaitRsp" value="true"/>
                </config>
                <exec cmd='>testHttp.py sp_disable_sub -DmacAddress="00:00:00:00:00:02" disable="true"' expect_retcode="0"/>
                <assert_no_req id="MT00003" cmd_id="SIMPOOL" desc="终端#00002不会收到SIMPOOL的回复"/>
                <assert_req id="MT00003" cmd_id="TERMREVUIM" desc="终端#00003收到强制还卡请求"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端#00001收到强制还卡请求"/>
                <assert_req id="MT00010" cmd_id="TERMREVUIM" desc="终端#00010收到强制还卡请求"/>
                <assert_no_req id="MT00002" cmd_id="TERMREVUIM" desc="终端#00002不会收到强制还卡请求"/>

                <!--以下解除禁用SP-->
                <exec cmd='>testHttp.py sp_disable_sub -DmacAddress="00:00:00:00:00:02" disable="false"' expect_retcode="0"/>
                <sp_siminfo_update>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="123450000000002"/>
                </sp_siminfo_update>

                <mt_requim id="MT00001" cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="终端#00001分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1" expect_ret="ERR_OK"/>
                <mt_requim id="MT00003" cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="终端#00003分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1" expect_ret="ERR_OK"/>
                <mt_requim id="MT00010" cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="终端#00010分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a1" expect_ret="ERR_OK"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB获取SP日志列表(simpool_getLogs)" status="已解决">
        <TestGroup desc="WEB获取SP日志列表，参数错误时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="00:00:00:00:00:01"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00140"   level="C" desc="参数为空时"  status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_getLogs_sub -DmacAddress=''" expect_retcode="ERR_ILLEGAL_PARAM"/>
            </TestCase>
            <TestCase no="00141"   level="C" desc="参数错误时"  status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_getLogs_sub -DmacAddress='00:00:00:99:99:99'" expect_retcode="USER_NOT_LOGIN"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB获取SP日志列表">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="00:00:00:00:00:01"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00010"/>
            </PreAction>
            <TestCase no="00142"   level="A" desc="Sp已登录已上传SIM后，WEB请求获取SP日志列表"  status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_getLogs_sub -DmacAddress='00:00:00:00:00:01'" expect_retcode="ERR_OK"/>
            </TestCase>
            <TestCase no="00143"   level="A" desc="更新SIM卡信息后，WEB请求获取SP日志列表"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <sp_siminfo_update >
                    <sim_info pos="1" imsi="123450000000001" status="NotInSp"/>
                </sp_siminfo_update>
                <exec cmd=">testHttp.py sp_getLogs_sub -DmacAddress='00:00:00:00:00:01'" expect_retcode="ERR_OK"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <mt_requim cells="12345,2,80;12345,4,80" expect_ret="PLMN_NO_SIM" desc="验证更新SP并获取上传日志请求后分卡"/>
                <mt_login id="MT00010" dev_id="MT00001" user_id="test00010" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <mt_requim cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="验证更新SP并获取上传日志请求后分卡"/>
                <mt_simimg/>
            </TestCase>
            <TestCase no="00144"   level="A" desc="WEB请求获取SP日志列表时，Sp上传心跳"  status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_getLogs_sub -DmacAddress='00:00:00:00:00:01'" expect_retcode="ERR_OK"/>
                <sp_heartbeat/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <mt_requim cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="验证更新SP并获取上传日志请求后分卡"/>
                <mt_login id="MT00010" dev_id="MT00001" user_id="test00010" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <mt_requim cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="验证更新SP并获取上传日志请求后分卡"/>
                <mt_simimg/>
                <mt_revuim/>
                <mt_revuim id="MT00001"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB清理SP日志(simpool_clearLogs)" status="已解决">
        <TestGroup desc="WEB清理SP日志，参数错误时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="00:00:00:00:00:01"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00145"   level="C" desc="参数为空时"  status="已解决" tester="liqingxia" developer="lifenglong" >
                <exec cmd=">testHttp.py sp_clearLogs_sub -DmacAddress='' -DfileName=''" expect_retcode="ERR_PROTO_NOT_COMPATIABLE"/>
            </TestCase>
            <TestCase no="00146"   level="C" desc="参数错误时"  status="已解决" tester="liqingxia" developer="lifenglong" >
                <exec cmd=">testHttp.py sp_clearLogs_sub -DmacAddress='123' -DfileName='dd'" expect_retcode="ERR_PROTO_NOT_COMPATIABLE"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB清理SP日志">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="00:00:00:00:00:01"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00147"   level="A" desc="Sp已登录已上传SIM后，WEB请求清理SP日志列表"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_clearLogs_sub -DmacAddress='00:00:00:00:00:01' -DfileName='logs'" expect_retcode="ERR_OK"/>
            </TestCase>
            <TestCase no="00148"   level="A" desc="Sp已登录上传日志后，WEB请求清理SP日志列表"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_logupload_sub -DmacAddress='00:00:00:00:00:01' -DhourTime='2017-09-25  12:10:10'" expect_retcode="ERR_OK"/>
                <TermSPLogupload_Rsp desc="SP上传日志回复" ret_code="ERR_OK"/>
                <exec cmd=">testHttp.py sp_clearLogs_sub -DmacAddress='00:00:00:00:00:01' -DfileName='logs'" expect_retcode="ERR_OK"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;10223,2,80" desc="分卡成功"/>
                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="SP清除日志后可正常鉴权成功"/>
            </TestCase>
            <TestCase no="00149"   level="A" desc="WEB请求清理SP日志列表时，Sp上传日志与心跳心跳"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_clearLogs_sub -DmacAddress='00:00:00:00:00:01' -DfileName='logs'"  expect_retcode="ERR_OK"/>
                <TermSPLogupload_Rsp desc="SP上传日志回复" ret_code="ERR_OK"/>
                <sp_heartbeat/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;10223,2,80" desc="分卡成功"/>
                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="SP清除日志后可正常鉴权成功"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB重启SP（simpool_reboot）" status="已解决">
        <TestGroup desc="WEB重启SP，参数错误时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00150"   level="C" desc="参数为空时"  status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_reboot_sub -DmacAddress='' -Dcause='1'" expect_retcode="ERR_ILLEGAL_PARAM"/>
            </TestCase>
            <TestCase no="00151"   level="C" desc="参数错误时"  status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_reboot_sub -DmacAddress='00:00:00:99:99:99' -Dcause=''" expect_retcode="ERR_ILLEGAL_PARAM"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB重启SP">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="101230000000001"/>
                </sp_siminfo>

                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00003"/>
                <connsvr id="MT00010"/>

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <mt_requim cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="终端#00001分卡成功"/>
                <mt_simimg/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" expect_ret="ERR_OK" desc="终端#00002登录成功"/>
                <mt_requim cells="10123,2,80;10123,4,80" expect_ret="ERR_OK" desc="终端#00002分卡成功"/>
                <mt_simimg/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" expect_ret="ERR_OK" desc="终端#00010登录成功"/>
                <mt_requim cells="12345,2,80;12345,4,80" expect_ret="ERR_OK" desc="终端#00010分卡成功"/>
                <mt_simimg/>


            </PreAction>

            <TestCase no="00152"   level="A" desc="已分卡时，WEB请求SP重启"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_reboot_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -Dcause='1'" expect_retcode="ERR_OK"/>
                <disconn id="SP00001"/>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="101230000000001"/>
                </sp_siminfo>


                <assert_no_req id="MT00001" cmd_id="TERMREVUIM" />
                <assert_no_req id="MT00002" cmd_id="TERMREVUIM" />
                <assert_no_req id="MT00010" cmd_id="TERMREVUIM" />

                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2" expect_ret="ERR_OK"/>

                <mt_simpool id="MT00002" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2" expect_ret="ERR_OK"/>

                <mt_simpool id="MT00010" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2" expect_ret="ERR_OK"/>
                <mt_login id="MT00003" dev_id="MT00003" user_id="test00003" password="123456" expect_ret="ERR_OK" desc="终端#00003登录成功"/>
                <mt_requim cells="12345,2,80;10123,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00003分卡失败"/>
            </TestCase>


            <TestCase no="00153"   level="A" desc="WEB请求SP重启,SP上传心跳"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <sp_heartbeat/>
                <exec cmd=">testHttp.py sp_reboot_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -Dcause='1'" expect_retcode="ERR_OK"/>
                <disconn id="SP00001"/>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                    <sim_info pos="3" imsi="101230000000001"/>
                </sp_siminfo>
                <sp_heartbeat/>

                <assert_no_req id="MT00001" cmd_id="TERMREVUIM" />
                <assert_no_req id="MT00002" cmd_id="TERMREVUIM" />
                <assert_no_req id="MT00010" cmd_id="TERMREVUIM" />

                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2" expect_ret="ERR_OK"/>

                <mt_simimg id="MT00002" expect_ret="ERR_OK"/>

                <mt_simpool id="MT00010" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2" expect_ret="ERR_OK"/>

                <mt_login id="MT00003" dev_id="MT00003" user_id="test00003" password="123456" expect_ret="ERR_OK" desc="终端#00003登录成功"/>
                <mt_requim cells="12345,2,80;10123,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00003分卡失败"/>
            </TestCase>

            <TestCase no="00154"   level="A" desc="已分卡时并更新SIN卡信息后，WEB请求SP重启,SP请求鉴权"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <sp_siminfo_update id="SP00001">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="1" imsi="123450000000002"/>
                    <sim_info pos="1" imsi="123450000000003"/>
                </sp_siminfo_update>

                <!--关闭等待回复-->
                <config>
                    <field name="bWaitRsp" value="false"/>
                </config>
                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"/>
                <!--开启等待回复-->
                <config>
                    <field name="bWaitRsp" value="true"/>
                </config>
                <exec cmd=">testHttp.py sp_reboot_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -Dcause='2'" expect_retcode="ERR_OK"/>
                <disconn id="SP00001"/>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000003"/>
                </sp_siminfo>
                <sp_heartbeat/>
                <assert_req id="MT00002" cmd_id="TERMREVUIM" desc="终端收到服务器下发的强制还卡请求"/>
                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a2" expect_ret="ERR_OK"/>

                <assert_no_req id="MT00001" cmd_id="TERMREVUIM" />
                <assert_no_req id="MT00010" cmd_id="TERMREVUIM" />
                <mt_login id="MT00003" dev_id="MT00003" user_id="test00003" password="123456" expect_ret="ERR_OK" desc="终端#00003登录成功"/>
                <mt_requim cells="12345,2,80;10123,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00003分卡失败"/>
            </TestCase>

            <TestCase no="00155"   level="A" desc="等待分卡时，WEB请求SP重启，上报SIM卡信息增加SIM卡"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">

                <mt_login id="MT00003" dev_id="MT00003" user_id="test00003" password="123456" expect_ret="ERR_OK" desc="终端#00003登录成功"/>
                <mt_requim cells="12345,2,80;10123,4,80" expect_ret="PLMN_NO_SIM" desc="终端#00003分卡失败"/>


                <exec cmd=">testHttp.py sp_reboot_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -Dcause='9'" expect_retcode="ERR_OK"/>


                <disconn id="SP00001"/>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="6" imsi="123450000000002"/>
                    <sim_info pos="7" imsi="123450000000003"/>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="101230000000001"/>
                </sp_siminfo>

                <exec cmd=">testHttp.py user_assignuim_sub -DuserId='test00001' -Dimsi='123450000000003'" expect_retcode="ERR_OK"/>

                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端收到服务器下发的主动分卡请求"/>
                <mt_requim id="MT00003" cells="12345,2,80;10123,4,80" expect_ret="ERR_OK" desc="终端#00003分卡成功"/>

                <assert_no_req id="MT00002" cmd_id="TERMREVUIM" />
                <assert_no_req id="MT00010" cmd_id="TERMREVUIM" />
                <mt_simimg id="MT00003"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a4"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a4" expect_ret="ERR_OK"/>
            </TestCase>

        </TestGroup>
    </TestSet>
    <TestSet desc="WEB-simpool日志上传" status="已解决">
        <TestGroup desc="WEB-simpool日志上传,未登录">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
                <sp_login id="SP00001"  mac_hexstr="00:00:00:00:00:01"  expect_ret="0" desc="SP00001登陆成功"/>
                <sp_siminfo id="SP00001" sim_count="2" desc="上传imsi信息">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="102230000000002"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00156"   level="A" desc="WEB-simpool日志上传"   status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_logupload_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -DhourTime='2017-07-25  12:10:10'" expect_retcode="USER_NOT_LOGIN" desc="SP未登录上传日志"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB-simpool日志上传">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
                <sp_login id="SP00001"  mac_hexstr="a2:1b:c6:d8:a2:5e"  expect_ret="0" desc="SP00001登陆成功"/>
                <sp_siminfo id="SP00001" sim_count="2" desc="上传imsi信息">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="102230000000002"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00157"   level="A" desc="simpool已登录上传日志"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_logupload_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -DhourTime='2017-07-25  12:10:10'" expect_retcode="ERR_OK" desc="SP已登录上传日志"/>
            </TestCase>
            <TestCase no="00158"   level="A" desc="simpool已登录上传日志，macAddress参数为空"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_logupload_sub -DmacAddress='' -DhourTime='2017-07-25  12:10:10'" expect_retcode="ERR_ILLEGAL_PARAM" desc="SP已登录上传日志"/>
            </TestCase>
            <!--无法发送为空的日期-->
            <TestCase no="00159"   level="A" desc="simpool已登录上传日志，day参数为空" status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_logupload_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -DhourTime=' '" expect_retcode="12" desc="SP已登录上传日志"/>
            </TestCase>
            <TestCase no="00160"   level="A" desc="simpool已登录上传日志，macAddress超长字符（包含特殊字符）内容" status="未解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_logupload_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -DhourTime='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036 '"
                      expect_retcode="12" desc="SP已登录上传日志"/>
            </TestCase>
            <TestCase no="00161"   level="A" desc="simpool已登录上传日志，day超长字符（包含特殊字符）内容"   status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_logupload_sub -DmacAddress='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036' -DhourTime='2017-07-25  12:10:10'"
                      expect_retcode="USER_NOT_LOGIN" desc="SP已登录上传日志"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB-simpool软件升级" status="已解决">
        <TestGroup desc="WEB-simpool软件升级,未登录">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
                <sp_login id="SP00001"  mac_hexstr="00:00:00:00:00:01"  expect_ret="0" desc="SP00001登陆成功"/>
                <sp_siminfo id="SP00001" sim_count="2" desc="上传imsi信息">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="102230000000002"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00162"   level="A" desc="simpool未登录软件升级"   status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize='100' -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin'
                -Dcode='124354656256' -Dmd5='42562562562546256'" expect_retcode="USER_NOT_LOGIN" desc="simpool未登录软件升级"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="simpool软件升级,已登录">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
                <sp_login id="SP00001"  mac_hexstr="a2:1b:c6:d8:a2:5e"  expect_ret="0" desc="SP00001登陆成功"/>

                <sp_siminfo id="SP00001" sim_count="6"  desc="上传imsi信息">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="3" imsi="102230000000002"/>

                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00010"/>

            </PreAction>
            <TestCase no="00163"   level="A" desc="simpool已登录正常软件升级"   status="已解决" tester="liqingxia" developer="lifenglong" >
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin'
                -Dcode='124354656256' -Dmd5='42562562562546256'" expect_retcode="ERR_OK" desc="SP已登录上传日志"/>
            </TestCase>
            <TestCase no="00164"   level="A" desc="simpool已登录软件升级，macAddress参数为空"   status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='' -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin'
                -Dcode='124354656256' -Dmd5='42562562562546256'" expect_retcode="ERR_ILLEGAL_PARAM" desc="simpool已登录软件升级，macAddress参数为空"/>
            </TestCase>
            <TestCase no="00165"   level="A" desc="simpool已登录软件升级，url参数为空"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath=''
                -Dcode='124354656256' -Dmd5='42562562562546256'"  expect_retcode="ERR_ILLEGAL_PARAM" desc="simpool已登录软件升级，url参数为空"/>
            </TestCase>
            <TestCase no="00166"   level="A" desc="simpool已登录软件升级，macAddress超长字符（包含特殊字符）内容" status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036'
                -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin' -Dcode='124354656256' -Dmd5='42562562562546256'"
                      expect_retcode="12" desc="simpool已登录软件升级，macAddress超长字符"/>
            </TestCase>
            <TestCase no="00167"   level="A" desc="simpool已登录软件升级，url超长字符（包含特殊字符）内容"  status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036'
                 -Dcode='124354656256' -Dmd5='42562562562546256'"
                      expect_retcode="12" desc="simpool已登录软件升级，url超长字符"/>
            </TestCase>


            <TestCase no="00168"   level="A" desc="simpool已登录软件升级，sim状态是否正确"   status="已解决" tester="liqingxia" developer="lifenglong">
                <assert_no_req cmd_id="TERMREVUIM"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;10223,2,80" desc="分卡成功"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,3,80;10223,2,80" expect_ret="ERR_OK" desc="分卡成功"/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00010正常登录"/>
                <mt_requim cells="12345,3,80;10223,2,80" expect_ret="BIND_NO_SIM" desc="分卡失败"/>

                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin'
                -Dcode='124354656256' -Dmd5='42562562562546256'"  expect_retcode="ERR_OK" desc="SP已登录软件升级"/>

                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="SP升级后可正常鉴权成功"/>

                <mt_revuim id="MT00002" expect_ret="ERR_OK" desc="SP升级后可正常还卡成功"/>

                <mt_requim id="MT00010" cells="12345,3,80;10223,2,80" expect_ret="ERR_OK" desc="升级后可正常分卡成功"/>

            </TestCase>
            <TestCase no="00169"   level="A" desc="simpool已登录软件升级，更新sim卡信息"   status="已解决" tester="liqingxia" developer="lifenglong">

                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46001,2,80" desc="分卡成功"/>

                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="10223,3,80;46001,2,80" expect_ret="ERR_OK" desc="分卡成功"/>

                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="46001,1,80;46001,2,80" expect_ret="BIND_NO_SIM" desc="验证不在DB的SIM卡是否可用"/>
                <mt_requim cells="10223,3,80;46001,2,80" expect_ret="BIND_NO_SIM" desc="绑定卡不可用，PLMN下无可用卡时"/>
                <mt_logout/>

                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin'
                -Dcode='124354656256' -Dmd5='42562562562546256'"  expect_retcode="ERR_OK" desc="SP已登录软件升级"/>
                <!--以下验证上报并更新SIM卡信息后 SIM卡是否可用-->

                <disconn id="SP00001" desc="SP断开连接"/>
                <connsvr id="SP00001" desc="SP连接"/>

                <sp_login id="SP00001"  mac_hexstr="a2:1b:c6:d8:a2:5e"  expect_ret="0" desc="SP00001登陆成功"/>

                <sp_siminfo id="SP00001" sim_count="7" desc="上传SIM卡信息" >
                    <sim_info pos="3" imsi="101230000000001"/>
                    <sim_info pos="4" imsi="102230000000002" status="Normal"/>
                </sp_siminfo>


                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端收到服务器下发的强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_SIM_NOT_AVAILABLE"/>
                </assert_req>

                <!--以下验证更新上报后 SIM卡是否可用-->
                <mt_requim id="MT00001"  cells="12345,3,80;46001,2,80" expect_ret="PLMN_NO_SIM" desc="验证更新IMSI信息是否成功"/>
                <mt_login id="MT00010" dev_id="MT00010" user_id="test00010" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="10123,3,80;10223,2,80" expect_ret="ERR_OK" desc="验证更新IMSI信息是否成功"/>

            </TestCase>
            <TestCase no="00170"   level="A" desc="simpool已登录软件升级，鉴权"   status="已解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim id="MT00001" cells="12345,3,80;460001,2,80" desc="分卡成功"/>
                <mt_simimg desc="下载镜像成功"/>
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin'
                -Dcode='124354656256' -Dmd5='42562562562546256'"  expect_retcode="ERR_OK" desc="SP已登录软件升级"/>
                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00001请求鉴权成功"/>
            </TestCase>
            <TestCase no="00171"   level="A" desc="simpool已登录软件升级，发送心跳"   status="已解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin'
                -Dcode='124354656256' -Dmd5='42562562562546256'"  expect_retcode="ERR_OK" desc="SP已登录发送心跳"/>
                <sp_heartbeat id="SP00001" desc="发送心跳"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB-simpool控制trace" status="已解决">
        <TestGroup desc="simpool控制trace,未登录">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
            </PreAction>
            <TestCase no="00172"   level="A" desc="SP未登录simpool控制trace"   status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py sp_upgrade_sub -Dsize=100 -DmacAddress='a2:1b:c6:d8:a2:5e' -DfilePath='simpool/upgrade/sincore_software/SIMCOREM32_V007.bin'
                -Dcode='124354656256' -Dmd5='42562562562546256'" expect_retcode="USER_NOT_LOGIN" desc="未登录simpool控制trace"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="simpool控制trace,已登录">
            <PreAction desc="初始化">
                <connsvr id="SP00001"/>
                <sp_login id="SP00001"  mac_hexstr="a2:1b:c6:d8:a2:5e"  expect_ret="0" desc="SP00001登陆成功"/>
                <sp_siminfo id="SP00001" sim_count="2" desc="上传imsi信息">
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="102230000000002"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00173"   level="A" desc="simpool已登录控制trace（ture）"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_trace_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -Don_off='true'" expect_retcode="ERR_OK" desc="SP已登录控制trace"/>
            </TestCase>
            <TestCase no="00174"   level="A" desc="simpool已登录控制trace（flase）"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_trace_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -Don_off='false'" expect_retcode="ERR_OK" desc="SP已登录禁用trace"/>
            </TestCase>
            <TestCase no="00175"   level="A" desc="simpool已登录上传日志，macAddress参数为空"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_trace_sub -DmacAddress='' -Don_off='false'" expect_retcode="ERR_ILLEGAL_PARAM" desc="SP已登录控制trace"/>
            </TestCase>
            <TestCase no="00176"   level="A" desc="simpool已登录上传日志，on_off参数为空"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_trace_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -Don_off=''" expect_retcode="ERR_ILLEGAL_PARAM" desc="SP已登录控制trace"/>
            </TestCase>
            <TestCase no="00177"   level="A" desc="simpool已登录上传日志，macAddress超长字符（包含特殊字符）内容"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_trace_sub -DmacAddress='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036' -Don_off='false'"
                      expect_retcode="USER_NOT_LOGIN" desc="SP已登录控制trace"/>
            </TestCase>
            <TestCase no="00178"   level="A" desc="simpool已登录上传日志，on_off超长字符（包含特殊字符）内容"   status="已解决" tester="liqingxia" developer="lifenglong" skip="true">
                <exec cmd=">testHttp.py sp_trace_sub -DmacAddress='a2:1b:c6:d8:a2:5e' -Don_off='3a1bcdab1ccb6e60d2d98da843355f1f87901d629fbb3511ade9b4f10c1ab818be1f467239adf26ceb7b2bf6cdcf6b29938d59124667273906e82b412bbfd036'"
                      expect_retcode="ERR_ILLEGAL_PARAM" desc="SP已登录控制trace"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB查看终端详细信息" status="已解决">
        <TestGroup desc="终端未登录与消息体错误时">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                </sp_siminfo>
            </PreAction>
            <TestCase no="00179"  level="C" desc="终端未登录时，WEB查看终端详情信息" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_userInfo_sub -DuserId='test00001'" expect_retcode="USER_NOT_LOGIN"/>
            </TestCase>
            <TestCase no="00180"  level="C" desc="参数为空时" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_userInfo_sub -DuserId=''" expect_retcode="ERR_ILLEGAL_PARAM"/>
            </TestCase>
            <TestCase no="00181"  level="C" desc="参数错误时" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_userInfo_sub -DuserId='aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'" expect_retcode="USER_NOT_EXIST"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB请求查看终端详细信息">
            <PreAction desc="初始化(终端上线)">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="101230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00182"  level="A"  desc="终端已登录时" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <exec cmd=">testHttp.py user_userInfo_sub -DuserId='test00001'" expect_retcode="ERR_OK"/>
                <assert_req cmd_id="TERMINFO" desc="终端收到获取详信息的请求"/>
                <mt_requim cells="12345,2,80;10123,4,80" expect_ret="ERR_OK" desc="获取信息终端详细后可正常请求分卡"/>
            </TestCase>
            <TestCase no="00183"  level="A"  desc="终端已登录时" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <mt_requim cells="12345,2,80;10123,4,80" expect_ret="ERR_OK" desc="分卡成功"/>
                <exec cmd=">testHttp.py user_userInfo_sub -DuserId='test00001'" expect_retcode="ERR_OK"/>
                <assert_req cmd_id="TERMINFO" desc="终端收到获取详信息的请求"/>
                <mt_simimg desc="获取终端信息后可正常下载镜像与鉴权"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a4"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a4" expect_ret="ERR_OK"/>
            </TestCase>
            <TestCase no="00184"  level="A"  desc="终端已登录时" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端#00001登录成功"/>
                <mt_requim cells="12345,2,80;10123,4,80" expect_ret="ERR_OK" desc="分卡成功"/>
                <mt_simimg/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a4"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a4" expect_ret="ERR_OK"/>
                <exec cmd=">testHttp.py user_userInfo_sub -DuserId='test00001'" expect_retcode="ERR_OK"/>
                <assert_req cmd_id="TERMINFO" desc="终端收到获取详信息的请求"/>
                <mt_requim cells="10123,2,80;12345,3,80" expect_ret="ERR_OK" desc="获取终端信息后可正常换卡"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="并发场景测试-服务器主动分卡（TermAssignUim）" >
        <TestGroup desc="服务器主动分卡(sessionId测试)">
            <PreAction desc="初始化(终端上线)，服务器等待分卡时">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>


                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="10123,2,80;46559,1,80" desc="终端#00002分卡成功"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <!--<mt_requim cells="10223,3,80;46559,1,80" expect_ret="ERR_OK" desc="终端#00001分卡成功"/>-->
                <config>
                    <field name="bAutoRsp" value="false" desc="终端MT00001关闭自动回复"/>
                </config>


                <exec wait_ms="3000" cmd=">testHttp.py user_assignuim_sub -DuserId='test00001' -Dimsi='123450000000001'" expect_retcode="ERR_OK" desc="WEB端将SIM卡主动分给test00001"/>
                <!--assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端收到服务器下发的主动分卡请求"/-->
                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端收到服务器下发的主动分卡请求"/>

                <!--Server处于已登录等待分卡状态时，发送TermAssignUim到终端，终端收到服务器下发的主动分卡的请求-->
            </PreAction>

            <TestCase no="00185"   level="A" desc="MT已连接时发送LoginById(sessionId未过期)、服务器发送TermAssignUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_loginbyid id="MT00001" waitRsp="false" expect_ret="ERR_OK" desc="终端发送logById请求到服务器"/>
                <TermMtAssignUim_Rsp ret_code="USER_NOT_LOGIN" desc="MT回复服务器下发的主动分卡请求"/>
                <assert_rsp  desc="终端等待服务器回复LoginById请求"/>
                <config>
                    <field name="bAutoRsp" value="false" desc="开启自动回复"/>
                </config>
                <mt_requim id="MT00002" cells="10233,2,80;46001,1,80" expect_ret="PLMN_NO_SIM" desc="验证终端#00001直接登录并请求分卡是否成功"/>
                <mt_simimg id="MT00001" desc="验证终端#00001直接登录并请求分卡是否成功"/>
            </TestCase>
        </TestGroup>

        <TestGroup desc="服务器主动分卡(sessionId过期测试)">
            <PreAction desc="初始化(终端上线)，服务器等待分卡时">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>


                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="10123,2,80;46559,1,80" desc="终端#00002分卡成功"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="10223,3,80;46559,1,80" expect_ret="ERR_OK" desc="终端#00001分卡成功"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="终端MT00001关闭自动回复"/>
                </config>


                <exec wait_ms="52000" cmd=">testHttp.py user_assignuim_sub -DuserId='test00001' -Dimsi='123450000000001'" expect_retcode="ERR_OK" desc="WEB端将SIM卡主动分给test00001"/>
                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端收到服务器下发的主动分卡请求"/>

                <!--Server处于已登录等待分卡状态时，发送TermAssignUim到终端，终端收到服务器下发的主动分卡的请求-->
            </PreAction>

            <TestCase no="00186"   level="A" desc="MT已连接时发送LoginById(sessionId已过期)、服务器发送TermAssignUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <sleep time="50000" desc="等待sessionId过期"/>
                <mt_loginbyid waitRsp="false" expect_ret="USER_INVALID_SESSION" desc="终端发送logById请求到服务器"/>
                <TermMtAssignUim_Rsp ret_code="USER_NOT_LOGIN" desc="MT未登录"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg id="MT00001" expect_ret="USER_NOT_LOGIN" desc="验证终端#00001直接登录并请求分卡失败"/>
            </TestCase>
        </TestGroup>

        <TestGroup desc="服务器主动分卡">
            <PreAction desc="初始化(终端上线)，服务器等待分卡时">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>


                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="10223,2,80;46001,1,80" expect_ret="ERR_OK" desc="终端#00001分卡成功"/>

                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>

                <exec wait_ms="2000" cmd=">testHttp.py user_assignuim_sub -DuserId='test00001' -Dimsi='123450000000001'" expect_retcode="ERR_OK" desc="WEB端将SIM卡主动分给test00001"/>
                <assert_req id="MT00001" cmd_id="TERMASSIGNUIM" desc="终端收到服务器下发的主动分卡请求"/>
                <!--Server处于已登录等待分卡状态时，发送TermAssignUim到终端，终端收到服务器下发的主动分卡的请求-->
            </PreAction>

            <TestCase no="00187"   level="A" desc="MT已连接时发送Login（密码正确）、服务器发送TermAssignUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT0001" waitRsp="false" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端发送Login请求到服务器"/>
                <TermMtAssignUim_Rsp ret_code="USER_NOT_LOGIN" desc="MT回复服务器下发的主动分卡请求"/>
                <assert_rsp desc="终端等待服务器回复login请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="12345,2,80;46001,1,80" desc="验证终端状态是否为已登录"/>
            </TestCase>

            <TestCase no="00188"   level="A" desc="MT已连接时发送Login（密码错误）、服务器发送TermAssignUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT0001" waitRsp="false" user_id="test00001" password="000000" expect_ret="ERR_USER_WRONG_PASSWORD" desc="终端发送Login请求到服务器"/>
                <TermMtAssignUim_Rsp ret_code="USER_NOT_LOGIN" desc="MT回复服务器下发的主动分卡请求"/>
                <assert_rsp desc="终端等待服务器回复login请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="12345,2,80;46001,1,80" expect_ret="USER_NOT_LOGIN" desc="验证终端状态是否为已连接"/>
            </TestCase>

            <TestCase no="00189"   level="A" desc="MT已登录时发送Logout、服务器发送TermAssignUim(MT拒绝)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_logout waitRsp="false" expect_ret="ERR_OK"  desc="MT申请退录"/>
                <TermMtAssignUim_Rsp ret_code="ERR_USER_OPERATING" desc="MT拒绝"/>
                <assert_rsp desc="终端等待服务器回复Logout请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="12345,2,80;46001,1,80" expect_ret="USER_NOT_LOGING" desc="验证终端状态是否为已连接"/>
            </TestCase>

            <TestCase no="00190"   level="A" desc="MT已登录时发送Logout、服务器发送TermAssignUim(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_logout waitRsp="false" expect_ret="ERR_OK" desc="MT申请退录"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复Logout请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="12345,2,80;46001,1,80" expect_ret="USER_NOT_LOGING" desc="验证终端状态是否为已连接"/>
            </TestCase>

            <TestCase no="00191"   level="A" desc="MT已登录等待分卡时发送ReqUim、服务器发送TermAssignUim(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim waitRsp="false" cells="12345,2,80;46001,1,80" expect_imsi="102230000000001" desc="MT申请分卡"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复ReqUim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg desc="验证终端是否分卡成功"/>
            </TestCase>

            <TestCase no="00192"   level="A" desc="MT已登录等待分卡时发送ReqUim、服务器发送TermAssignUim(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim waitRsp="false" cells="12345,2,80;46001,1,80" desc="MT申请分卡"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复ReqUim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg desc="验证终端是否分卡成功"/>
            </TestCase>

            <TestCase no="00193"   level="A" desc="MT已登录等待分卡时发送ReqUim、服务器发送TermAssignUim(MT拒绝)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim waitRsp="false" cells="12345,2,80;46001,1,80" expect_imsi="102230000000001" desc="MT申请分卡"/>
                <TermMtAssignUim_Rsp ret_code="ERR_USER_OPERATING" desc="MT拒绝"/>
                <assert_rsp desc="终端等待服务器回复ReqUim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg desc="验证终端是否分卡成功"/>
            </TestCase>

            <TestCase no="00194"   level="A" desc="MT已登录已分卡时发送RevUim、服务器发送TermAssignUim(MT拒绝)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_revuim waitRsp="false" desc="MT申请还卡"/>
                <TermMtAssignUim_Rsp ret_code="ERR_USER_OPERATING" desc="MT拒绝"/>
                <assert_rsp desc="终端等待服务器回复RevUim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证终端是否还卡成功"/>
            </TestCase>

            <TestCase no="00195"   level="A" desc="MT已登录已分卡时发送RevUim、服务器发送TermAssignUim(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_revuim waitRsp="false" desc="MT申请还卡"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复RevUim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证终端是否还卡成功"/>
            </TestCase>

            <TestCase no="00196"   level="A" desc="MT已登录已分卡时发送SimImg、服务器发送TermAssignUim(MT拒绝)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simimg waitRsp="false" expect_ret="ERR_OK" desc="MT下载镜像"/>
                <TermMtAssignUim_Rsp ret_code="ERR_USER_OPERATING" desc="MT拒绝"/>
                <assert_rsp desc="终端等待服务器回复SimImg请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="验证终端下载镜像成功"/>
            </TestCase>

            <TestCase no="00197"   level="A" desc="MT已登录已分卡时发送SimImg、服务器发送TermAssignUim(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simimg waitRsp="false" expect_ret="ERR_OK" desc="MT下载镜像"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复SimImg请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="验证终端下载镜像成功"/>
            </TestCase>

            <TestCase no="00198"   level="A" desc="MT已登录已分卡时发送SimPool、服务器发送TermAssignUim(MT拒绝)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false"  desc="MT鉴权"/>
                <TermMtAssignUim_Rsp ret_code="ERR_USER_OPERATING" desc="MT拒绝"/>
                <assert_rsp desc="终端等待服务器回复Simpool请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_revuim desc="验证终端是否为已分卡状态"/>
            </TestCase>

            <TestCase no="00199"   level="A" desc="MT已登录已分卡时发送SimPool、服务器发送TermAssignUim(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false"  desc="MT鉴权"/>
                <TermMtAssignUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <!--注意：服务器会清除缓存中的SimPool指令，故而不会收到mt_simpool的回复-->
                <assert_no_req cmd_id='SIMPOOL' timeout="10" desc="终端应收不到服务器回复simpool请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b511"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b511"
                            desc="验证终端接受分卡是否成功"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="并发场景测试-服务器强制退录（TermLogout）" >
        <TestGroup desc="服务器已登录时，强制退录">
            <PreAction desc="初始化(终端上线)，服务器已登录">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000002"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>

                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec wait_ms="2000" cmd=">testHttp.py user_logout_sub -DuserId='test00001'" expect_retcode="ERR_OK" desc="调用web脚本执行强制退录操作"/>

                <assert_req id="MT00001" cmd_id="TERMLOGOUT" desc="终端收到服务器下发的强制退录请求">
                    <assert_expr expr="ServerCode.valueOf((short)msgBody.getCause().getCode()).name()" expect="ULR_USER_KICKED"/>
                </assert_req>
                <!--Server处于已登录已分卡状态时，发送TermLogout到终端，终端收到服务器下发的强制退录请求-->
            </PreAction>
            <TestCase no="00200"   level="A" desc="MT已登录时发送Logout、服务器发送TermLogout"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_logout id="MT00001" waitRsp="false" desc="终端发送logout请求到服务器"/>
                <TermMtLogout_Rsp id="MT00001" ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp id="MT00001" desc="终端等待服务器回复logout请求"/>
                <config id="MT00001">
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim id="MT00001" cells="12345,7,80;12346,1,80" expect_ret="USER_NOT_LOGIN" desc="验证终端是否为已连接状态"/>
            </TestCase>

            <TestCase no="00201"   level="A" desc="MT已连接时发送ReqUim、服务器发送TermLogout(MT拒绝)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim waitRsp="false" cells="12345,3,80;46002,4,80" desc="终端发送ReqUim请求到服务器"/>
                <TermMtLogout_Rsp ret_code="USER_OPERATING" desc="MT拒绝"/>
                <assert_rsp desc="终端等待服务器回复revuim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg desc="验证终端是否为已登录已分卡状态" />
            </TestCase>

            <TestCase no="00202"   level="A" desc="MT已连接时发送ReqUim、服务器发送TermLogout(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_requim waitRsp="false" cells="12345,3,80;46002,4,80" expect_ret="USER_NOT_LOGIN" desc="终端发送ReqUim请求到服务器"/>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复revuim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="12345,7,80;12346,1,80" expect_ret="USER_NOT_LOGIN" desc="验证终端是否为已连接状态"/>
            </TestCase>

            <TestCase no="00203"   level="A" desc="MT已连接时发送RevUim、服务器发送TermLogout"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_revuim waitRsp="false" expect_ret="USER_NOT_LOGIN" desc="终端发送revuim请求至服务器"/>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复revuim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="12345,7,80;12346,1,80" expect_ret="USER_NOT_LOGIN" desc="验证终端是否为已连接状态"/>
            </TestCase>

            <TestCase no="00204"   level="A" desc="MT已连接时发送SimImg、服务器发送TermLogout"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simimg waitRsp="false" expect_ret="USER_NOT_LOGIN" desc="终端发送simimg请求至服务器"/>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复simpool请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="12345,7,80;12346,1,80" expect_ret="USER_NOT_LOGIN" desc="验证终端是否为已连接状态"/>
            </TestCase>

            <TestCase no="00205"   level="A" desc="MT已连接时发送SimPool、服务器发送TermLogout"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simpool waitRsp="false" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端发送simpool请求至服务器"/>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="12345,7,80;12346,1,80" expect_ret="USER_NOT_LOGIN" desc="验证终端是否为已连接状态"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="服务器已登录时，强制退录（session_id有效期）">
            <PreAction desc="初始化(终端上线)，服务器已登录">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>

                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_login id="MT00002" dev_id="MT0002" user_id="test00002" password="123456" desc="终端#00002正常登录"/>
                <mt_requim cells="12345,2,80;46001,1,80" desc="终端#00002分卡成功"/>
                <config id="MT00001">
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec wait_ms="2000" cmd=">testHttp.py user_logout_sub -DuserId='test00001'" desc="调用web脚本执行强制退录操作"/>
                <assert_req id="MT00001" cmd_id="TERMLOGOUT" desc="终端收到服务器下发的强制退录请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="ULR_USER_KICKED"/>
                </assert_req>
                <!--Server处于已登录已分卡状态时，发送TermLogout到终端，终端收到服务器下发的强制退录请求-->
            </PreAction>

            <!--sessionid="TODO: GET_MT00002_SESSION_ID"-->
            <TestCase no="00206"   level="A" desc="MT已连接时发送LoginById(sessionId未过期)、服务器发送TermLogout"  status="未实现" tester="liqingxia" developer="lifenglong">
                <mt_loginbyid waitRsp="false" sessionid="$ConvUtils.bytesToHexStr(MockEnv.getMockMt('00002').getSessionId())" desc="终端发送loginbyid请求到服务器"/>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复loginbyid请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg desc="验证终端是否为已登录已分卡状态"/>
            </TestCase>
            <!--sessionid="TODO: GET_MT00002_SESSION_ID"-->
            <TestCase no="00207"   level="A" desc="MT已连接时发送LoginById(sessionId已过期)、服务器发送TermLogout"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_loginbyid waitRsp="false" sessionid="$ConvUtils.bytesToHexStr(MockEnv.getMockMt('00002').getSessionId())" expect_ret="USER_INVALID_SESSION" desc="终端发送loginbyid请求到服务器"/>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复loginbyid请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_requim cells="10123,2,80;12345,1,80" expect_ret="USER_NOT_LOGIN" desc="验证终端是否为已连接状态"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="服务器已登录时，强制退录（重试的时间）">
            <PreAction desc="初始化(终端上线)，服务器已登录">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="4" imsi="101230000000001"/>

                </sp_siminfo>
                <connsvr id="MT00001"/>

                <mt_login id="MT00001" dev_id="MT0001" user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec wait_ms="2000" cmd=">testHttp.py user_logout_sub -DuserId='test00001'" desc="调用web脚本执行强制退录操作"/>
                <!--Server处于已登录已分卡状态时，发送TermLogout到终端-->
            </PreAction>
            <TestCase no="00208"   level="A" desc="MT已连接时发送Login（允许立即重试）、服务器发送TermLogout"  status="未解决" tester="liqingxia" developer="lifenglong">
                <assert_req id="MT00001" cmd_id="TERMLOGOUT" desc="终端收到服务器下发的强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="ULR_USER_KICKED" desc="允许立即重试"/>
                </assert_req>
                <mt_login id="MT00001" dev_id="MT0001" waitRsp="false" user_id="test00001" password="123456" desc="终端发送login请求到服务器"/>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="接受退录"/>
                <assert_rsp desc="终端等待服务器回复login请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_requim cells="12345,2,80;46001,1,80" desc="验证终端是否为已登录状态"/>
            </TestCase>

            <TestCase no="00209"   level="A" desc="MT已连接时发送Login（不允许立即重试）、服务器发送TermLogout"  status="未实现" tester="liqingxia" developer="lifenglong">
                <assert_req id="MT00001" cmd_id="TERMLOGOUT"    desc="终端收到服务器下发的强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="ULR_USER_KICKED" desc="不允许立即重试"/>
                </assert_req>
                <mt_login id="MT00001" dev_id="MT0001"  waitRsp="false" user_id="test00001" password="123456" expect_ret="Retry is not allowed" desc="终端发送login请求到服务器"/>
                <TermMtLogout_Rsp ret_code="ERR_OK" desc="接受退录"/>
                <assert_rsp desc="终端等待服务器回复login请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_requim cells="12345,2,80;99999,3,80" expect_ret="USER_NOT_LOGIN" desc="验证终端是否为未登录状态"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="并发场景测试-服务器强制还卡（TermRevUim）">
        <TestGroup desc="服务器已分卡时，强制还卡">
            <PreAction desc="初始化(终端上线)，服务器已登录">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo >
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000002"/>
                    <sim_info pos="3" imsi="123450000000003"/>
                    <sim_info pos="4" imsi="101230000000001"/>
                    <sim_info pos="5" imsi="102230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>

                <mt_login id="MT00001" dev_id="MT0001"  user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec wait_ms="2000" cmd=">testHttp.py user_revuim_sub -DuserId='test00001'" expect_retcode="ERR_OK" desc="调用web脚本执行强制还卡操作"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端收到服务器下发的强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH"/>
                </assert_req>
                <!--Server处于已登录已分卡状态时，发送TermRevUim到终端，终端收到服务器下发的强制还卡请求-->
            </PreAction>

            <TestCase no="00210"   level="A" desc="MT已连接时发送LoginById、服务器发送TermRevUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_loginbyid waitRsp="false" expect_ret="USER_INVALID_SESSION" desc="终端发送loginbyid请求到服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复loginbyid请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_requim cells="12345,3,80;46002,4,80" expect_ret="USER_NOT_LOGIN" desc="验证终端状态是否为已连接"/>
            </TestCase>

            <TestCase no="00211"   level="A" desc="MT已连接时发送Login、服务器发送TermRevUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT0001" waitRsp="false" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="终端发送login请求到服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复login请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_requim cells="12345,3,80;46002,4,80" desc="验证终端状态是否为已登录"/>
            </TestCase>

            <TestCase no="00212"   level="A" desc="MT已连接时发送Login(密码错误)、服务器发送TermRevUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT0001" waitRsp="false" user_id="test00001" password="000000" expect_ret="ERR_USER_WRONG_PASSWORD" desc="终端发送login请求到服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复login请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_requim cells="12345,3,80;10123,4,80" expect_ret="USER_NOT_LOGIN" desc="验证终端状态是否为已连接"/>
            </TestCase>

            <TestCase no="00213"   level="A" desc="MT已登录未分卡时发送Logout、服务器发送TermRevUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_logout waitRsp="false" expect_ret="ERR_OK" desc="终端发送logout请求到服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复logout请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_requim cells="12345,3,80;46002,4,80" expect_ret="USER_NOT_LOGIN" desc="验证终端状态是否为已连接未登录"/>
            </TestCase>

            <TestCase no="00214"   level="A" desc="MT已登录未分卡时发送RevUim、服务器发送TermRevUim"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_revuim waitRsp="false" desc="终端发送RevUim到服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复revuim请求" />
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证终端是否为已登录未分卡状态"/>
            </TestCase>

            <TestCase no="00215"   level="A" desc="MT已登录已分卡时发送SimImg、服务器发送TermRevUim(MT拒绝)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simimg waitRsp="false" desc="终端发送simimg请求至服务器"/>
                <TermMtRevUim_Rsp ret_code="USER_OPERATING" desc="MT拒绝"/>
                <assert_rsp desc="终端等待服务器回复simimg请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="验证终端是否为已登录已分卡状态"/>
            </TestCase>

            <TestCase no="00216"   level="A" desc="MT已登录已分卡时发送SimImg、服务器发送TermRevUim(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simimg waitRsp="false" expect_ret="USER_NOT_REQUIM"  desc="终端发送simimg请求至服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <assert_rsp desc="终端等待服务器回复simimg请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            waitRsp="false" desc="验证终端是否为已登录未分卡状态"/>
            </TestCase>

            <TestCase no="00217"   level="A" desc="MT已登录已分卡时发送SimPool、服务器发送TermRevUim(MT拒绝)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simpool waitRsp="false" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="终端发送simpool请求至服务器"/>
                <TermMtRevUim_Rsp ret_code="USER_OPERATING" desc="MT拒绝"/>
                <assert_rsp desc="终端等待服务器回复simpool请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_revuim desc="验证终端是否为已登录已分卡状态"/>
            </TestCase>

            <TestCase no="00218"   level="A" desc="MT已登录已分卡时发送SimPool、服务器发送TermRevUim(MT接受)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_simpool waitRsp="false" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端发送simpool请求至服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="开启自动回复"/>
                </config>
                <mt_simimg expect_ret="USER_NOT_REQUIM" desc="验证终端是否为已登录未分卡状态"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="服务器已分卡时，强制还卡（包含允许重试的时间）">
            <PreAction desc="初始化(终端上线)，服务器已登录">
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="101230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>

                <mt_login id="MT00001" dev_id="MT0001"  user_id="test00001" password="123456" desc="终端#00001正常登录"/>
                <mt_requim cells="12345,3,80;46002,4,80" desc="分卡成功"/>
                <config>
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec wait_ms="2000" cmd=">testHttp.py user_revuim_sub -DuserId='test00001'" desc="调用web脚本执行强制还卡操作"/>
                <!--Server处于已登录已分卡状态时，发送TermRevUim到终端-->
            </PreAction>

            <TestCase no="00219"   level="A" desc="MT已登录未分卡时发送ReqUim、服务器发送TermRevUim(允许立即重试)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端收到服务器下发的强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH" desc="允许立即重试"/>
                </assert_req>
                <mt_requim waitRsp="false" cells="10123,3,80;46002,4,80" expect_ret="ERR_OK" desc="终端发送ReqUim请求到服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受WEB的强制还卡请求"/>
                <assert_rsp desc="终端等待服务器回复requim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="验证终端是否为已登录已分卡状态"/>
            </TestCase>

            <TestCase no="00220"   level="A" desc="MT已登录未分卡时发送ReqUim、服务器发送TermRevUim(不允许立即重试)"  status="未解决" tester="liqingxia" developer="lifenglong">
                <assert_req id="MT00001" cmd_id="TERMREVUIM"  desc="终端收到服务器下发的强制还卡请求">
                    <assert_expr expr='ServerCode.valueOf((short)msgBody.getCause().getCode()).name()' expect="RUR_USER_VIP_SNATCH" desc="不允许立即重试"/>
                </assert_req>
                <!--服务器回复不允许立即重试-->
                <mt_requim waitRsp="false" cells="12345,3,80;46002,4,80" expect_ret="Not allowed to retry" desc="终端发送ReqUim请求到服务器"/>
                <TermMtRevUim_Rsp ret_code="ERR_OK" desc="MT接受WEB的强制还卡请求"/>
                <assert_rsp desc="终端等待服务器回复requim请求"/>
                <config>
                    <field name="bAutoRsp" value="true" desc="MT开启自动回复"/>
                </config>
                <sleep time="360"/>
                <mt_requim waitRsp="true" cells="12345,3,80;10123,4,80" desc="验证重试时间是否有效"/>
            </TestCase>
        </TestGroup>
    </TestSet>
    <TestSet desc="WEB模拟初始化测试数据" skip="true">
        <TestGroup desc="初始化测试数据">
            <PreAction>
                <connsvr id="SP00001"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="ERR_OK"/>
                <sp_siminfo expect_ret="ERR_OK"/>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="00:00:00:00:00:02" expect_ret="ERR_OK"/>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
                <connsvr id="MT00003"/>
                <connsvr id="MT00004"/>
                <connsvr id="MT00005"/>
                <connsvr id="MT00006"/>
                <connsvr id="MT00007"/>
                <connsvr id="MT00008"/>
                <connsvr id="MT00009"/>
                <connsvr id="MT00010" desc="password:abc123"/>
                <connsvr id="MT00011"/>
                <connsvr id="MT00012"/>
                <connsvr id="MT00013"/>
                <connsvr id="MT00014"/>
                <connsvr id="MT00015"/>
                <connsvr id="MT00016"/>
                <connsvr id="MT00017"/>
                <connsvr id="MT00018"/>
                <connsvr id="MT00019"/>
                <connsvr id="MT00020"/>
                <connsvr id="MT00021"/>
                <connsvr id="MT00022"/>
                <connsvr id="MT00023"/>
                <connsvr id="MT00024"/>
                <connsvr id="MT00025"/>
                <connsvr id="MT00026"/>
                <connsvr id="MT00027"/>
                <connsvr id="MT00028"/>
                <connsvr id="MT00029"/>
                <connsvr id="MT00030"/>

                <sp_siminfo expect_ret="ERR_OK">
                    <sim_info pos="22" imsi="123450000000001"/>
                    <sim_info pos="24" imsi="123450000000002" status="NotInSp" />
                    <sim_info pos="33" imsi="123450000000003" desc="绑定用户MT00010"/>
                    <sim_info pos="60" imsi="000000000001234"/>
                    <sim_info pos="70" imsi="000000000001235"/>
                    <sim_info pos="80" imsi="000000000001236"/>
                    <sim_info pos="81" imsi="123020000000002"/>
                    <sim_info pos="88" imsi="123020000000001"/>
                    <sim_info pos="39" imsi="123010000000002"/>
                    <sim_info pos="44" imsi="123010000000001"/>
                    <sim_info pos="1" imsi="123450000000011"/>
                    <sim_info pos="2" imsi="123450000000012"/>
                    <sim_info pos="3" imsi="123450000000013"/>
                    <sim_info pos="4" imsi="123450000000014"/>
                    <sim_info pos="5" imsi="123450000000015"/>
                    <sim_info pos="6" imsi="123450000000016"/>
                    <sim_info pos="7" imsi="123450000000017"/>
                    <sim_info pos="8" imsi="123450000000018"/>
                    <sim_info pos="9" imsi="123450000000019"/>
                    <sim_info pos="10" imsi="123450000000020"/>
                    <sim_info pos="11" imsi="123450000000021"/>
                    <sim_info pos="12" imsi="123450000000022"/>
                    <sim_info pos="13" imsi="123450000000023"/>
                    <sim_info pos="14" imsi="123450000000024"/>
                    <sim_info pos="15" imsi="123450000000025"/>
                    <sim_info pos="16" imsi="123450000000026"/>
                    <sim_info pos="17" imsi="123450000000027"/>
                    <sim_info pos="18" imsi="123450000000028"/>
                    <sim_info pos="19" imsi="123450000000029"/>
                    <sim_info pos="20" imsi="123450000000030"/>

                </sp_siminfo>
            </PreAction>
            <TestCase no="00221"   level="A" desc="存在已登录未分卡、已登录已分卡、已登录等待分卡用户"  status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" user_id="test00001" password="123456" dev_id="MT00001" desc="终端#00001登录成功"/>
                <mt_login id="MT00002" user_id="test00002" password="123456" dev_id="MT00002" desc="终端#00002登录成功"/>
                <mt_login id="MT00003" user_id="test00003" password="123456" dev_id="MT00003" desc="终端#00003登录成功"/>
                <mt_login id="MT00004" user_id="test00004" password="123456" dev_id="MT00004" desc="终端#00004登录成功"/>
                <mt_login id="MT00005" user_id="test00005" password="123456" dev_id="MT00005" desc="终端#00005登录成功"/>
                <mt_login id="MT00006" user_id="test00006" password="123456" dev_id="MT00006" desc="终端#00006登录成功"/>
                <mt_login id="MT00007" user_id="test00007" password="123456" dev_id="MT00007" desc="终端#00007登录成功"/>
                <mt_login id="MT00008" user_id="test00008" password="123456" dev_id="MT00008" desc="终端#00008登录成功"/>
                <mt_login id="MT00009" user_id="test00009" password="123456" dev_id="MT00009" desc="终端#00009登录成功"/>
                <mt_login id="MT00010" user_id="test00010" password="123456" dev_id="MT00010" desc="终端#00010登录成功"/>


                <mt_requim id="MT00001" cells="12345,2,80;12345,2,80" expect_ret="ERR_OK" desc="终端#00001分卡成功"/>
                <mt_simimg />
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" expect_ret="ERR_OK"/>

                <mt_requim id="MT00002" cells="12345,2,80;12345,2,80" expect_ret="ERR_OK" desc="终端#00002分卡成功"/>
                <mt_simimg />
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b111"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b111" expect_ret="ERR_OK"/>

                <mt_requim id="MT00003" cells="12301,2,80;12345,2,80" expect_ret="ERR_OK" desc="终端#00003分卡成功"/>
                <mt_simimg />
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" expect_ret="ERR_OK"/>

                <mt_requim id="MT00004" cells="12301,2,80;12345,2,80" expect_ret="ERR_OK" desc="终端#00003分卡成功"/>
                <mt_simimg />
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" expect_ret="ERR_OK"/>

                <mt_requim id="MT00010" cells="12301,2,80;12345,2,80" expect_ret="ERR_OK" desc="终端#00010分卡成功（绑卡用户）"/>
                <mt_simimg />
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" expect_ret="ERR_OK"/>


            </TestCase>

        </TestGroup>
    </TestSet>
    <TestSet desc="" skip="true">
        <TestGroup desc="服务器主动分卡(TermAssignUim)" skip="true">
            <TestCase no="00222"   level="A" desc="终端sessionId登录(LoginById)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00223"   level="A" desc="终端登录(Login)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00224"   level="A" desc="终端退录(Logout)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00225"   level="A" desc="终端分卡(ReqUim)(imsi为空)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00226"   level="A" desc="终端换卡(ReqUim)(imsi不为空)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00227"   level="A" desc="终端还卡(RevUim)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00228"   level="A" desc="终端下载镜像(SimImg)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00229"   level="A" desc="终端鉴权(SimPool)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
        </TestGroup>
        <TestGroup desc="服务器请求终端还卡(TermRevUim)" skip="true">
            <TestCase no="00230"   level="A" desc="终端sessionId登录(LoginById)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00231"   level="A" desc="终端登录(Login)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00232"   level="A" desc="终端退录(Logout)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00233"   level="A" desc="终端分卡(ReqUim)(imsi为空)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00234"   level="A" desc="终端换卡(ReqUim)(imsi不为空)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00235"   level="A" desc="终端还卡(RevUim)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00236"   level="A" desc="终端下载镜像(SimImg)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00237"   level="A" desc="终端鉴权(SimPool)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
        </TestGroup>
        <TestGroup desc="服务器请求终端退录(TermLogout)" skip="true">
            <TestCase no="00238"   level="A" desc="终端sessionId登录(LoginById)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00239"   level="A" desc="终端登录(Login)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00240"   level="A" desc="终端退录(Logout)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00241"   level="A" desc="终端分卡(ReqUim)(imsi为空)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00242"   level="A" desc="终端换卡(ReqUim)(imsi不为空)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00243"   level="A" desc="终端还卡(RevUim)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00244"   level="A" desc="终端下载镜像(SimImg)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
            <TestCase no="00245"   level="A" desc="终端鉴权(SimPool)"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
        </TestGroup>
        <TestGroup desc="普通场景测试">
            <TestCase no="00246"   level="A"  status="未解决" tester="liqingxia" developer="lifenglong">

            </TestCase>
        </TestGroup>
        <TestGroup desc="并发压力测试" skip="true">
            <TestCase no="00247"   level="A"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
        </TestGroup>
        <TestGroup desc="稳定性测试" skip="true">
            <TestCase no="00248"   level="A"  status="未解决" tester="liqingxia" developer="lifenglong">
            </TestCase>
        </TestGroup>
        <TestGroup desc="环境模拟测试" skip="true">
            <TestCase no="00249"   level="A"  status="未解决" tester="liqingxia" developer="lifenglong">

            </TestCase>
        </TestGroup>
    </TestSet >
    <TestSet desc="M网账号">
        <TestGroup desc="M网账号登录">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
            </PreAction>
            <TestCase no="00250"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M账号正常登陆">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
            </TestCase>
            <TestCase no="00251"  level="B" status="未解决" tester="liqingxia" developer="lifenglong" desc="用户名与密码为空时">
                <mt_login id="MT00001" dev_id="MT00001" user_id=" " password=" " expect_ret="USER_NOT_EXIST" desc="用户名或密码为空，登录失败"/>
            </TestCase>
            <TestCase no="00252"  level="B" status="未解决" tester="liqingxia" developer="lifenglong" desc="普通账户登录用户名前增加1个空格时">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!test00009" password='test00009' expect_ret="ERR_OK" desc="用户名或密码为空，登录失败"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="M网账号请求分卡">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00253"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M网账号正常请求分卡">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,1,80;12301,3,80" expect_ret="ERR_OK"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="M网账号请求下载镜像">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00254"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M账号正常请求下载镜像">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,1,80;12301,3,80" expect_ret="ERR_OK"/>
                <mt_simimg expect_ret="ERR_OK" desc="下载镜像成功"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="M网账号请求鉴权">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00255"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M账号正常请求下载鉴权">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,1,80;12301,3,80" expect_ret="ERR_OK"/>
                <mt_simimg expect_ret="ERR_OK" desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_ret="ERR_OK" desc="鉴权成功"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="M网账号还卡">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
            </PreAction>
            <TestCase no="00256"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M账号正常请求还卡">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,1,80;12301,3,80" expect_ret="ERR_OK"/>
                <mt_simimg expect_ret="ERR_OK" desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="鉴权成功"/>
                <mt_revuim expect_ret="ERR_OK" desc="还卡成功"/>
                <!--验证还卡是否成功-->
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00001" password="123456" expect_ret="ERR_OK" desc="普通账号正确请求登录"/>
                <mt_requim cells="12345,1,80;12301,3,80" expect_ret="ERR_OK"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="M网账号退录">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00257"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M账号已登录时，请求退录">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_logout expect_ret="ERR_OK" desc="退录成功"/>
            </TestCase>
            <TestCase no="00258"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M账号已登录已分卡时，请求退录">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,1,80;12301,3,80" expect_ret="ERR_OK"/>
                <mt_simimg expect_ret="ERR_OK" desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="鉴权成功"/>
                <mt_revuim expect_ret="ERR_OK" desc="还卡成功"/>
                <mt_logout expect_ret="ERR_OK" desc="退录成功"/>
            </TestCase>

        </TestGroup>
        <TestGroup desc="M网账号直接登录并请求分卡">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                    <sim_info pos="24" imsi="101230000000001"/>
                    <sim_info pos="33" imsi="123450000000003" desc="绑定用户MT00010"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00259"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M账号直接登录并请求分卡">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,1,80;12301,3,80" expect_ret="ERR_OK"/>
                <mt_simimg expect_ret="ERR_OK" desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_ret="ERR_OK" desc="鉴权成功"/>
                <disconn id="MT00001" desc="M网账号断开链接"/>
                <connsvr id="MT00001"/>
                <mt_loginbyid id="MT00001" expect_ret="ERR_OK" desc="直接登录并请求分卡成功"/>
                <mt_simimg expect_ret="ERR_OK" desc="验证M网账号直接登录并请求分卡是否成功"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="M网账号发送心跳">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
            </PreAction>
            <TestCase no="00260"  level="A" status="未解决" tester="liqingxia" developer="lifenglong" desc="M账号正常请求下载鉴权">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,1,80;12301,3,80" expect_ret="ERR_OK"/>
                <mt_simimg expect_ret="ERR_OK" desc="下载镜像成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="鉴权成功"/>
                <mt_heartbeat expect_ret="ERR_OK" desc="发送心跳"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB强制M网账号退录">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                    <sim_info pos="24" imsi="101230000000001"/>
                    <sim_info pos="33" imsi="123450000000003" desc="绑定用户MT00010"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
            </PreAction>
            <TestCase no="00261"  level="A" desc="MT已登录已分卡时，WEB发送强制M网账号退录到服务器" status="未实现" tester="liqingxia" developer="lifenglong" >
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="!0383033718" password='0383033718' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim id="MT00001" cells="12345,3,80;46559,1,80" desc="终端#00001分卡成功"/>
                <mt_requim id="MT00002" cells="12345,3,80;46559,1,80"  expect_ret="PLMN_NO_SIM" desc="终端#00002分卡失败，进入等待分卡"/>
                <config id="MT00001">
                    <field name="bAutoRsp" value="false"/>
                </config>
                <config id="MT00002">
                    <field name="bAutoRsp" value="false"/>
                </config>
                <exec wait_ms="2000" cmd=">testHttp.py  user_logout_sub -DuserId=' 0383033717'" expect_retcode="ERR_OK" desc="强制终端#00001退录"/>
                <assert_req id="MT00001" cmd_id="TERMLOGOUT" desc="终端#00001收到强制退录的消息"/>
                <TermMtLogout_Rsp  id="MT00001"  ret_code="ERR_OK" desc="接受强制退录"/>
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="终端#00002等待分卡成功"/>
                <TermMtAssignUim_Rsp id="MT00002" ret_code="ERR_OK" desc="接受分卡"/>
                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="验证终端强制退录是否成功"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB强制M网账号还卡">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
            </PreAction>
            <TestCase no="00262"  level="A" desc="OK)MT已登录已分卡时，WEB发送强制M网账号还卡（用户账号）到服务器" status="未实现" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_login id="MT00002" dev_id="MT00001" user_id="!0383033718" password='0383033718' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,3,80;46559,1,80" id="MT00001" desc="分卡成功"/>
                <mt_requim cells="12345,3,80;46559,1,80" id="MT00002" expect_ret="PLMN_NO_SIM" desc="分卡失败，进入等待分卡"/>

                <exec cmd=">testHttp.py user_revuim_sub -DuserId=' 0383033717'" expect_retcode="ERR_OK" desc="强制终端#00001还卡"/>
                <assert_req id="MT00001" cmd_id="TERMREVUIM" desc="终端#00001收到强制还卡的信息"/>
                <TermMtRevUim_Rsp id="MT00001" ret_code="ERR_OK" desc="接受还卡"/>
                <assert_req id="MT00002" cmd_id="TERMASSIGNUIM" desc="验证终端#00001强制还卡是否成功"/>
                <TermMtAssignUim_Rsp id="MT00002" ret_code="ERR_OK" desc="接受分卡"/>
                <mt_loginbyid id="MT00001" expect_ret="USER_INVALID_SESSION" desc="验证强制还卡后sessionId是否会过期"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB请求M网账号绑卡">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="22" imsi="123450000000001"/>
                    <sim_info pos="24" imsi="101230000000001"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
            </PreAction>
            <TestCase no="00263"  level="A" desc="OK)MT已登录时，WEB发送请求M网账号绑卡到服务器" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <exec cmd=">testHttp.py user_binduim_sub -DuserId='!0383033717' -Dimsi='123450000000001' -DbindUserExpireTime='2018-11-11 11:11:11'" expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡123450000000001"/>
                <mt_requim id="MT00001" cells="12345,3,80;10123,4,80" desc="终端#00001是否可以分到绑定的SIM卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b511"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b511"
                            expect_ret="ERR_OK" desc="终端#00001鉴权成功"/>
                <!--验证MT00001是否分配的绑定卡-->
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" expect_ret="ERR_OK" desc="普通账号正确请求登录"/>
                <mt_requim cells="12345,3,80;46559,1,80" expect_ret="PLMN_NO_SIM" desc="分卡失败，无可用的SIM卡"/>
            </TestCase>

            <TestCase no="00264"  level="A" desc="OK)MT已登录已分卡时，WEB发送请求M网账号绑卡到服务器" status="未解决" tester="liqingxia" developer="lifenglong">
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,3,80;46559,1,80" id="MT00001" desc="分卡成功"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            desc="终端#00001鉴权成功"/>

                <exec cmd=">testHttp.py user_binduim_sub -DuserId='!0383033717' -Dimsi='101230000000001' -DbindUserExpireTime='2018-11-11 11:11:11'" expect_retcode="ERR_OK" desc="终端#00001绑定SIM卡101230000000001"/>

                <!--验证绑卡是否成功-->
                <mt_revuim expect_ret="ERR_OK" desc="终端#00001还卡成功"/>
                <mt_requim id="MT00001" cells="12345,3,80;10123,4,80" desc="终端#00001是否可以分到绑定的SIM卡"/>
                <mt_simimg desc="镜像下载成功"/>
                <mt_simpool apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b511"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b511"
                            desc="终端#00001鉴权成功"/>

                <!--验证MT00001是否分配的绑定卡-->
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" expect_ret="ERR_OK" desc="M网账号正确请求登录"/>
                <mt_requim cells="12345,3,80;46559,1,80"  desc="分卡成功"/>
            </TestCase>
        </TestGroup>
        <TestGroup desc="WEB请求M网账号解绑">
            <PreAction>
                <connsvr id="SP00002"/>
                <sp_login mac_hexstr="a2:1b:c6:d8:a2:5e" expect_ret="0"/>
                <sp_siminfo>
                    <sim_info pos="1" imsi="123450000000001"/>
                    <sim_info pos="2" imsi="123450000000002"/>
                </sp_siminfo>
                <connsvr id="MT00001"/>
                <connsvr id="MT00002"/>
            </PreAction>
            <TestCase no="00265"  level="A" desc="OK)MT已登录时，WEB发送请求M网账号解绑到服务器" status="未解决" tester="liqingxia" developer="lifenglong">
                <exec cmd=">testHttp.py user_binduim_sub -DuserId='!0383033717' -Dimsi='123450000000001' -DbindUserExpireTime='2018-11-11 11:11:11'" expect_retcode="ERR_OK" desc="账户 0383033717绑定SIM卡123450000000001"/>
                <mt_login id="MT00001" dev_id="MT00001" user_id="!0383033717" password='0383033717' expect_ret="ERR_OK" desc="M网账号正确请求登录"/>

                <mt_requim id="MT00001" cells="12345,3,80;10123,4,80" desc="M网账号是否可以分到绑定的SIM卡"/>
                <mt_simimg id="MT00001" desc="镜像下载成功"/>
                <mt_login id="MT00002" dev_id="MT00002" user_id="test00002" password="123456" expect_ret="ERR_OK" desc="普通账号正确请求登录"/>
                <mt_requim cells="12345,3,80;46559,1,80" expect_ret="ERR_OK" desc="普通账户是否成功分配的绑定卡"/>

                <!--以下验证已分卡时，解绑后是否还可以正常使用SIM卡，且解绑后的SIM卡是否可分配给其他用户-->
                <exec cmd=">testHttp.py user_unbinduim_sub -Dimsi='123450000000001'" expect_retcode="ERR_OK" desc="SIM卡123450000000001解绑"/>
                <mt_simpool id="MT00001" apdu_hexstr="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0"
                            expect_response="5243545300270035027200008800812210411999224fbb879dd74caf39e3598e6910cfa029fe56af82347db6edb64f30da13b5a0" desc="鉴权成功"/>
                <mt_revuim id="MT00001" expect_ret="ERR_OK" desc="MT00001还卡成功"/>

                <mt_requim id="MT00002"  cells="12345,3,80;46559,1,80" expect_ret="ERR_OK" desc="验证M网账号是否成功分配的绑定卡"/>
                <mt_simimg expect_ret="ERR_OK" desc="下载镜像成功"/>

            </TestCase>
        </TestGroup>
    </TestSet>
</TestPlan>